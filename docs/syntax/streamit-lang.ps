%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: streamit-lang.dvi
%%Pages: 20
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Palatino-Roman Courier Palatino-Bold Courier-Bold
%%+ Palatino-Italic Courier-Oblique CMMI10 CMSY10 LINE10 CMR10
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -P cmz -t letter -o streamit-lang.ps
%+ streamit-lang.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2007.01.29:0040
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
%%CreationDate: 1992 Feb 19 19:54:52

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 43 /plus put
readonly def
/FontBBox{-251 -250 1009 969}readonly def
/UniqueXX 5000793 def
currentdict end
currentfile eexec
8053514d28ec28da1630165fab262882d3fca78881823c5537fe6c3dda8ee5b8
97e17cb027f5c73fdbb56b0a7c25fc3512b55fe8f3acfbffcc7f4a382d8299cc
8fd37d3cea49dabdca92847af0560b404ef71134b0f3d99934fc9d0b4e602011
b9cfb856c23f958f3c5a2fbe0ef8587d1f5774879c324e51fcb22888b74f2415
50d7401eb990d4f3a7af635198422283cac1b6cd446ddbcbd915db9bff88844e
784c6bf7389803d9450b0c21756a017306457c7e62c1d269f306bd3402e266de
fc3b5e7d8a8d2f5bf0fe6ddd40d07391df4fad4a6018dce29a2b8f692b29f202
3a7c0e66de8ed85c14f1f8492167357f51a7e84cc5d92e0fee4d81cf7fbc8de5
2d2e7bb57142033993f9c08c315abade8dbc4a732e84e142d3bee51557910e12
cd8aa37c459a5e6b7f5269f59078aba3be4641a11ac48d0b625c8325b38ec08e
4c9e5e7fed976a5650d99d82114f449b9ca14c4ec957702295a39a93ef93f618
99b8ea06b092c3c1e503e6e436e0a9fa22576c8930ab3dc8c20f5d82b69cddf8
ff4dacfa9c54bed5a3aa3ea5b129fe96be632843b9b6bc91b615581a985db56b
1e01ca60ee69ca92cf5c0882ece62edad3e106d835348822400f0b66af658f2a
e56ed08f8b0010571807009b73ab12a8cf14ca6c71f03c2a48c500f9d62266af
154a6375ff600d9bac3f05ce34142d6867a79581c533176bb2f3117336671e2e
44638a97167e2ea9644e31ea16c2ad2990ea33c54001e0c8156e6de8ab6a4d40
a7137ba275f39589fea2e2db8256adc103d6f9cc038037a47e8fd469c5f98a5e
3c15bd4ace40d340018b1cff7d1ed8abb0ac57b5b5a2c20a51957b96c453edb7
dae5affd91a46d938fe0a13363001d844ded4323f1ee6d30012aea19b024a552
315505535c85dc26bad31e09c50e6512802976d298c4e90d0044c362e6bf3ab3
62a454ee93de25ce54411090c29e9d75c80ce26a84404bd9de3aee0e3f921ac5
87f907572b8354a5c3165eea7e8b2ba4e4f834663063e9a307d8ff6f8b61acd8
799bc105cddcf8f95f2160494fc01f7ec3effb95de571b8d7f27a2f9ad203c09
cd4cffd98a119a507460e7fef5c910405e877aa1f8da68d1272e59e3adccef8d
82e692b3229926fbe621080b7831a2ee248948dd3ae55082a939f02875a7a0eb
7ae7d50270a576fbdfde7109c670f51be75b80b6fe3045ea50e2121024113974
87d0093bc5c693c16b533a75364f7b98677cfd3a09a8791b9c9877fae82abba6
3e0fa40b0f4089ebd017288ed7f8b9fdc23ba5d36b36b1370b959c9a93730ea5
2ac54c311e53a5b8c79bebc62f73d02a155e1ac7cfd0c0c936d24183a7fb2759
a44fc3fce715c66d5d88ffdbc4431f528258d9ede7993ed3d7686ea231aca5be
b91243316681700fbc86f9ba2e3e7380af1ce52e114c0db6e2e0a523e6f4b5f1
d7019b13b54ab6880abfa481fa38532aa9e4db39083b42652bd35068aeb277c6
4f19d18683f853e02484ea9867481f9e0cb749adb97351e00b295f6934fa3d8f
48e1f8fa90cc48d2cf5eddd3d8a6082bc0d9eccc51d9bc9f0bd3bf14fef37844
5f33a5fc8edb0add86a166
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
%%BeginFont: LINE10
%!PS-AdobeFont-1.1: LINE10 1.00
%%CreationDate: 1992 Oct 23 20:22:05

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.00) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (LINE10) readonly def
/FamilyName (LaTeX) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /LINE10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 16 /a16 put
dup 27 /a27 put
dup 41 /a41 put
dup 54 /a54 put
dup 63 /a63 put
dup 80 /a80 put
dup 113 /a113 put
readonly def
/FontBBox{-150 -150 1020 1020}readonly def
/UniqueXX 5011940 def
currentdict end
currentfile eexec
80347982ab3942d930e069a70d0d48311d75c99a46517d00d55f57d7d06eae02
ce42bc6f02479dd2b017bee2b4b2093511b992b19e8e014150ad177269b3adf0
23af9203c2683b5609d89e5aa47fe696911727fcf0abc3e1dfc253326900dd94
846b641ebfba6b841c0cd25c4007ed9c66cc327c6abaf2f0383b50af8cf8ed88
2862a220211a24d4b3dd653090fe7fac59306b7135abb21d197f619eced07cbd
4d124b4312e6473000e14bb6c54247a1f7f994aa26ebf9caf9d5716ac43905f5
b94fca61ce218c06224b3ec1acdd20bd9c8327753e2ca1e695c68eccf4e111dd
3934185e507dcb0a6437c282d50b4bb6a31395c0cb4045eca17f8d8b1ab660f2
7b2b5ab0905667ae7c16c3e708a1f648dea18a27d00c0983381266645de25ecd
98644decfaf2dd16f582ade8140a1ac7a45e5013d7bd740370d25dd5c5976bce
6e4923c284c9c25b69f6b8a623cbf8414f4195cf8caf2dc1e744ec0d5c074534
c726d4f52e2d4d977b2771b51c778fbfec37dab729199fb6429be2b3290829c4
e99ecc0a0d0b2ff51d4ecaba6c404bba73068ddfe292c2afb6c1bbef138d32fd
d3d7149c12808919798cc06e9d2aea273930ad09596f6356651c02e493590c5d
8764970c475e0c9b1b01b1a033a63bda9da68e386365dcb5f41ba24de0b7bae8
5c472b8ecb947c7c24fe4b91e55b37745cfc098059466df03f6ff06c84a67ec7
585856d6d084b4d59eb4841ba5bbc81c03a3d2c4925127207125a3b703a2546a
45623f45738bbcce796a0d23ef110ace8de25bfcbf7c85b380840909f82f494a
32c2bbcad3e17315e1b939a58aa8ba020d47575de5bf75a7b540b19ee3fbd787
4a9451346e148cbf9e134460f977b140d9e1da3080d213bca6fea156640152c0
930e471d873355ed27610737cb42966ea1061f27d2da45fa860c3d975c8f6234
206587991f29dc2910066935cd33926ec02902b1e0a1536eb1593c26de6a5b56
964fff499f76528a63340226f6278c1f26347eb4a72773154076c11e472ab717
757a9137f837f69d362fe6680b062015c583cf61ddce6d162758e77079bce9e4
56aebdbbc3603a448a80c8c443bf305c26eae2345afb1e1ec68a6ad3fa97021b
d585743eb2c1eb7936479a4ab38c098cfb144a0ed3b6384d2102f089d8fa605a
7e6a35a3f7b1e6bcaa6e5715095fe70c0ecc89fc191ee25d74dd3a9efd1155b2
7c4c5b43b9ce61c9361e581f9c68d98fff56550c07847d92f649d56680569351
aa37d7ff1af8842e678240e386f625a9d3b6ba3c028db3e1ab6382f980643c00
87a2e7ce7cbf8785a80214f27e44ce85abc580b9f9db9295d0035cba0a942b68
94c98ad9304ae6eef5588498e664d389e9bf04bfc54888756039e82919d895af
f226126bfe88aae8a2de09e3bb670ba0e9931844302523320953409a65d2f63f
0dfcc7ee9402be99e537ff6219091e0380b6e7f4503ae0f0c59b43134700c226
00212942c3bdc1cd02d55bb28e13a8b2cb60250eedb8cb5aa412cf80403dbe18
fd7e158cf1121d323848acfd299640bdcbe118efc47309dfd22d8d6c3875d5f7
fd974c9ba0a89572565bd9207ac02088769b1924604994fccfdb9df325e07666
609be7e55716fcd8e5f97bac6d44f90650f944e209ae1cd3520ce507060eb331
394a3a0c18b1470bed4d77977887d2928e881041b5ef93590607637b78a2896a
4a870e7862ffde2c74247e24c07493f01ab5f631d5dfcb159826ef915849bd3d
dc5f19df0edb78c26ea43dc91feb3872af3032dad9927c34da774cccb70c0c91
c49a579483c5096bf56b7b4bfd62aad800d34d9da97e574dafeabcfb59fddb96
431c80
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 1 /periodcentered put
dup 15 /bullet put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueXX 5000820 def
currentdict end
currentfile eexec
9b9c1569015f2c1d2bf560f4c0d52257bac8ced9b09a275ab231194ecf829352
05826f4e975dcecec72b2cf3a18899ccde1fd935d09d813b096cc6b83cdf4f23
b9a60db41f9976ac333263c908dcefcdbd4c8402ed00a36e7487634d089fd45a
f4a38a56a4412c3b0baffaeb717bf0de9ffb7a8460bf475a6718b0c73c571145
d026957276530530a2fbefc6c8f67052788e6703bb5ee49533870bca1f113ad8
3750d597b842d8d96c423ba1273ddd32f3a54a912a443fcd44f7c3a6fe3956b0
aa1e784aaec6fce08dae0c76da9d0a3eba57b98a6233d9e9f0c3f00fcc6b2c6a
9ba23af389e6dfff4efec3de05d6276c6be417703ce508377f25960ef4ed83b4
9b01b873f3a639ce00f356229b6477a081933fef3bb80e2b9dffa7f75567b1fa
4d739b772f8d674e567534c6c5bbf1cf615372be20b18472f7aa58be8c216dbd
df81cc0a86b6d8318ca68fe22c8af13b54d7576fe4ca5a7af9005ea5cc4edb79
c0ab668e4fec4b7f5a9eb5f0e4c088cd818ecc4feb4b40ec8bd2981bf2336074
b64c430035b7d4eb41c5714c319ae0c7f0df32ef5dcc37eb7088b0dafdece614
5c070876e5c86697c6807b682563bf12acd9e127a5c684425f374787b44bfeda
a76cc0bbe92f88b0726b42a4924549be5909508c14653d96deff9bdcc40259cc
c8fdb04cfd2adc7dde49ac9e5c97f4bd7379495671566cb449a192ed8c3f13f6
e8fea928a14463029b8164fb2f8557f0ba77098122f827e7c6522672b213cb6d
05359d801ec2d8d45dff0748051a8a9196b9609d705505ac517a4ef96038d097
5e4aeb2e0d1caeec6038af07c0e980dafd1533d76f86a3aca34b3c439c2de7eb
100637f7e0ebbdcca7ad56501a906759705e20abdb6aeef6ef79a2f6870a25b8
c5a13d5ba1850f53796fdc8cf04bb7a938da414146a68f65d2545a4f1d
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57

% Copyright (C) 1997 American Mathematical Society.  All Rights Reserved.

11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 60 /less put
dup 105 /i put
dup 107 /k put
dup 110 /n put
dup 114 /r put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
/UniqueXX 5087385 def
currentdict end
currentfile eexec
80347982ab3942d930e069a70d0d48311d725e830d1c76fba12e12486e989c98
74c2b527f0925722787027f44470d484262c360cdfdddf3657533a57bb16f730
48bfbbfcb73a650484015441fdc837add94ac8fbd2022e3ec8f115d4b4bb7b7f
15388f22cc6198efe768bd9fceb3446ee4a8dc27d6cd152485384ef5f59381ff
da43f2d20c8fb08aa27ab2015b774db10dacfdcd33e60f178c461553146ab427
bdd7da12534ba078ad3d780414930da4f8d58abefd45db119b10eb409dd89792
3c6e705479464a4b310b58348c4b42393988fef4925cf984423aaf65fea9f0e6
4629953bcf50b919d968d99bd185f83112b2759cc411764e9bde677f57c5ee5a
c555448d5f81a16259ded1e11bf4119d53e8ab07a802df900d3a2d5ccc1c6876
d29c5e9effb7af3ef83400b0910c07873a8c56fa7b1eb1ba426043b00cc95dbe
dc6e136cbbbcb3f67509964f9f281ebf81fe5b018122eaf66c4a838487e82e18
6e006093042848a903efb3469ab6b4049767aadb95c30408dfd58d8a10f4cb22
168decd9f3ee100f07b49aa44c92139b669cc312ba20192454eb2375be6284b0
26659d964b96ae82d4942e758027fcf23c25ed01115af27ce7f20efe2a822bb6
84004f20243a49c9e93301fc21b80815c033c3e2ba58ef53da2157d524b395f2
b37abca13bc6a2f42e824ab7e47106176b0d6db267fbb795ac7425582df2e3dc
55863468a9200742bd7b552c48f8cf58bc21343bd3b95abfa140f33f37c6f3f7
8b0d8a5154eb7c1f62ec598267f13e841a3e64172663935ac8b665d86540d316
ddece329c008049c5e74b27d59022c5515059bc3b89370b1bc6a169c888bb325
e0b74282d6f053a50da4024ed1e433271a32ab8c17d41c632b41cf9f3ecd5fe1
24daf7aea7ce8a63047b245822930d517df7baaafa69d2d17f7d93cebd45416d
f3459365434123a76ccf883a4973bab19807e1f0c4bab03a45f7ed69ff2660ff
3963e4def11001eec4238c368a39d874fd30b3c14f4186ec7700fbce22abe468
eb32baf7b0164f8f21a9b5e706b91411faaa44467cb2180ab03de375c1ab93e9
76e11ab92fdd4a7280a6d1a8dc65c4c89d04c8ed6988045a2a3de9a4c7b1efd3
75b3a4105c3d10ef7781c955b819182c6c351e3c27140127e48bb7bf1d984f00
13e2bdededb46dea5095e5a692a586f3396d8e84cb1164576fa67a4fa5a4a39e
0d8b1166cc31a316eccfe05e177f990292359f26e33e98bad99c7282aa02ec3a
1cd8f0a95ad3994a6e570bee3a166952d54791cc470cdcc7b84e832cf6760bb3
27a4ac472f9868b53fb9a62252f09c029d987e16a9705549170cfcd931d9bb7c
5f4b17506606058dc53bf60c3a5d37599922646c8f11aaa25cba8a248e020bf9
5b980d6fc1c07c2dfa31cb8b5986abd0595d2041782258660dece82a2a620e65
efc83ca997a68cfef4cdb7d7af885a31a37f83366dd58694bda69c9dd239d438
1f6b0b30a05b67e07049aff55aa8c07926e02439de0decabbb2cd889b9a7b37c
d0a4e4427bd9bfd17a0632c28dfb5b3cad47b58279b33f5df146076791bd9ca4
9b256b099c18a381780d5d1aca43019f04dfe12816c5e9d0a534d2c2266a1575
ab626ee1ebfcbae372480558d3cc4900b9b6051d7eb97eb38b47b9f0af8dfc4f
9eb03d5813f469ad446152c81b1313ddcfa47af38bd7c49c7c6f4300d2d0bfae
47c8357ec48b74fe46d312284fc479bfcc61d580b3ba56aab51fd7dd621ceb73
5da3dc5ba8a57cba16f20efedf794f70db912ae2fb923fe34fa254e5f5fb92d1
73dcc062a72285ae9c39d33cd13d1f620a51fc4018f08cf0775cb0dadebc9fdd
c505d6f4664d54b96051c2be8e55310da66161bb8891e2cfcb12d99f63777a3e
b2132648c7d93c6b6d4b6b7e07d83e036a066e5d71f15eefa5e136762edaa5ae
b4e339f5be3a4c010fe9248fd2642d5ec18c504689b52996cda8fc9f10fcfd4c
74a7164552ae6f54610e84c2a1fca827c31d84bdc5e3ce5a0ebc61cfd51d6a60
a4fbc7889b7654e2603f08c8c8fc93e2e7e88419f011e468168eaee4ac2c7924
635ff2e75afc6f50cd6c39e4a24e237a247c4a1c63e5626f96caf8a6a2adf35f
b1752bfe7cb6493cbb487e7632d8b36f4fade42041fd323135b1fae71183eaff
bea7e9bf73db4e27a3a475ead3e87135a4649722f19c36920d3362a9e4575370
46ed4d9293a26f9198785d0ce92ec3f25248b38ac3070a9b6d0ce60244cf9fa5
bbfd4a76c4eaf3c70b2d825dae01f50bf4d91cc9418e7338cbea3889f793b405
dd470d0c5cad4a0dadc28c83eb5433233547babb18ce6e48ed98fa86ff3257c7
71d536ecdd6b1f9576651f643c26ca414a3e5c92437716c5704c63c968d4418d
5aeced777db01dab9d9caed5a85ad01a5aeb3e496fc6584efb48fa268b7a2e2e
35326ece4397e7c17e932eebf4606fe339e70d916be632284b0c329c11b0490b
c5782a52685bf51472a45f3a00a6ad8f081688aff9609a35b4e6d392e4718162
de872a1cb91241e53a1ff59f0bad35d842a939444c19df82e6bd44683077e9da
043965c8cc425b94c54c946798fcaf7f3fd8d1f5bb077d6f5681e49e315370b2
ff4fdc3fb9e41abe52e7df987817190aa5c15106d836f3c0f43cc166d4c87640
d0ea70e5e65e6338ca62b6d898a43b175f7459b6dc41252d3bfa8ae510ab3de4
ad5f461b972fdd2dbc9b040710133b7e868f0d281d9e29c6eec5886f023c4c74
82
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark

%%EndFont 
TeXDict begin 40258431 52099146 1000 600 600 (streamit-lang.dvi)
@start /Fa 212[71 43[{}1 90.9091 /CMR10 rf /Fb 137[42
46 28 32 4[46 1[23 2[23 42 2[32 3[37 18[65 3[28 74[{
TeXBase1Encoding ReEncodeFont}12 83.022 /Palatino-Italic
rf /Fc 137[50 1[50 3[50 50 50 1[50 50 50 1[50 50 1[50
3[50 19[50 30[50 4[50 50 40[{TeXBase1Encoding ReEncodeFont}16
83.022 /Courier rf /Fd 142[83 32[83 16[83 8[83 12[83
13[83 10[83 16[{}7 83.022 /LINE10 rf /Fe 240[45 13[25
1[{}2 90.9091 /CMSY10 rf /Ff 141[41 3[55 2[47 1[31 44[71
60[{}5 90.9091 /CMMI10 rf /Fg 133[42 46 43 69 47 50 27
35 33 1[50 45 48 73 24 46 1[24 48 46 28 40 51 37 46 42
11[65 51 44 8[28 28 5[59 1[65 5[21 12[21 28 21 4[23 39[{
TeXBase1Encoding ReEncodeFont}36 83.022 /Palatino-Roman
rf /Fh 139[28 4[46 9[42 22[69 19[21 58[{TeXBase1Encoding ReEncodeFont}5
83.022 /Palatino-Bold rf /Fi 134[55 55 55 55 55 55 55
55 55 55 55 55 55 55 2[55 55 55 55 55 55 55 55 55 13[55
4[55 4[55 2[55 15[55 1[55 1[55 55 1[55 55 55 55 1[55
55 55 55 39[{TeXBase1Encoding ReEncodeFont}39 90.9091
/Courier-Oblique rf /Fj 133[40 45 45 66 45 51 30 35 35
1[45 40 51 71 25 40 25 25 45 1[25 35 45 37 42 40 17[71
5[30 2[51 22[27 1[30 42[48 2[{TeXBase1Encoding ReEncodeFont}30
90.9091 /Palatino-Italic rf /Fk 134[55 55 2[55 55 55
55 55 55 55 55 55 55 55 55 55 55 1[55 55 55 55 55 55
97[{TeXBase1Encoding ReEncodeFont}22 90.9091 /Courier-Bold
rf /Fl 133[50 55 50 1[55 61 33 44 39 1[61 55 61 89 33
61 1[33 1[55 1[50 61 44 1[50 9[100 78 1[66 61 2[61 83
1[100 3[39 83 83 1[61 83 72 66 10[50 50 50 50 50 50 50
50 1[25 33 45[{TeXBase1Encoding ReEncodeFont}44 99.6264
/Palatino-Bold rf /Fm 119[55 10[55 55 55 1[55 55 55 55
55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
55 55 55 3[55 1[55 55 2[55 2[55 55 55 1[55 55 55 55 55
1[55 55 2[55 1[55 55 55 55 1[55 55 55 55 55 55 55 1[55
55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 1[55 55
3[55 33[{TeXBase1Encoding ReEncodeFont}74 90.9091 /Courier
rf /Fn 105[45 1[45 45 24[45 51 47 76 51 55 30 39 36 51
55 50 53 80 26 51 21 26 53 51 30 44 56 40 50 45 7[61
1[91 66 71 56 48 61 1[55 71 76 86 56 1[30 31 76 69 51
56 70 64 56 71 5[23 23 45 45 45 45 45 45 45 45 45 45
55 23 30 23 55 1[30 30 25 35[55 55 2[{TeXBase1Encoding ReEncodeFont}73
90.9091 /Palatino-Roman rf /Fo 133[45 51 45 76 51 56
30 40 35 1[56 51 56 81 30 56 30 30 56 51 35 45 56 40
56 45 9[91 71 1[61 56 2[56 76 1[91 56 1[35 35 76 1[51
56 76 66 61 71 7[45 45 45 45 45 45 45 45 45 1[27 23 30
45[{TeXBase1Encoding ReEncodeFont}54 90.9091 /Palatino-Bold
rf /Fp 134[66 60 2[73 40 53 47 1[73 66 73 106 40 2[40
1[66 1[60 73 53 1[60 12[80 73 5[120 3[47 100 2[73 1[86
80 10[60 60 60 60 60 60 60 3[40 45[{TeXBase1Encoding ReEncodeFont}33
119.552 /Palatino-Bold rf /Fq 139[32 1[39 1[60 2[88 7[48
2[55 14[52 28[50 3[50 1[50 3[25 44[{TeXBase1Encoding ReEncodeFont}11
99.6264 /Palatino-Roman rf /Fr 138[60 60 60 60 4[60 60
2[60 1[60 1[60 60 60 1[60 32[60 17[60 46[{TeXBase1Encoding ReEncodeFont}
14 99.6264 /Courier rf /Fs 138[87 47 61 57 1[86 78 83
127 3[42 1[80 1[69 1[64 1[72 10[104 2[75 6[88 2[48 22[72
72 2[36 43[87 2[{TeXBase1Encoding ReEncodeFont}21 143.462
/Palatino-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: Letter
letter
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 926 426 a Fs(Str)m(eamIt)35 b(Language)g(Speci\002cation)1604
608 y(V)-16 b(ersion)35 b(2.1)1173 861 y Fr(streamit@cag.csail.mit.edu)
1594 1065 y Fq(September)-7 b(,)25 b(2006)-30 1463 y
Fp(Contents)-30 1674 y Fo(1)91 b(Introduction)3253 b(2)-30
1878 y(2)91 b(T)-8 b(ypes)3534 b(2)106 1991 y Fn(2.1)96
b(Data)24 b(T)-8 b(ypes)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119
b(3)315 2104 y(2.1.1)110 b(Primitive)24 b(T)-8 b(ypes)47
b(.)e(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)119 b(3)315 2217 y(2.1.2)110 b(Str)o(uctur)n(es)68
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)119 b(3)315 2330 y(2.1.3)110 b(Arrays)63
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119 b(4)315 2442 y(2.1.4)110
b(Portals)60 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119 b(4)315
2555 y(2.1.5)110 b(V)-8 b(ariable)24 b(Declarations)29
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119
b(4)315 2668 y(2.1.6)110 b(Static)23 b(Blocks)42 b(.)j(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119
b(5)106 2781 y(2.2)96 b(Str)n(eam)23 b(T)-8 b(ypes)23
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119 b(5)315 2894 y(2.2.1)110
b(Str)n(eam)23 b(Parameters)61 b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119 b(5)315 3007 y(2.2.2)110
b(Parameterized)23 b(Str)n(eam)f(T)-8 b(ypes)79 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119 b(6)315
3120 y(2.2.3)110 b(Filters)89 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119
b(6)315 3233 y(2.2.4)110 b(Pipelines)41 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119
b(9)315 3346 y(2.2.5)110 b(Splitjoins)35 b(.)46 b(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)119
b(9)315 3459 y(2.2.6)110 b(Feedback)22 b(Loops)29 b(.)45
b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)73 b(10)315 3572 y(2.2.7)110 b(Splitters)22 b(and)g(Joiners)77
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(11)315 3684 y(2.2.8)110 b(Anonymous)21 b(Str)n(eams)44
b(.)h(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(11)106 3797 y(2.3)96 b(Execution)22 b(Model)84 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)73 b(12)-30 4001 y Fo(3)91 b(Statements)3275
b(12)106 4114 y Fn(3.1)96 b(Initialization-Only)26 b(Statements)34
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(12)315 4227 y(3.1.1)110 b Fm(add)22 b Fn(Statement)h(.)45
b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)73 b(12)315 4340 y(3.1.2)110 b Fm(body)21 b Fn(Statement)37
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)73 b(13)315 4453 y(3.1.3)110 b Fm(enqueue)20
b Fn(Statement)78 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)73 b(13)315 4566 y(3.1.4)110 b Fm(join)21
b Fn(Statement)37 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(13)315 4679 y(3.1.5)110
b Fm(loop)21 b Fn(Statement)37 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(13)315 4792
y(3.1.6)110 b Fm(split)21 b Fn(Statement)50 b(.)c(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(13)106
4905 y(3.2)96 b(W)-8 b(ork)22 b(and)g(Helper)g(Statements)82
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(13)315 5017 y(3.2.1)110 b Fm(push)21 b Fn(Statement)37
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)73 b(13)315 5130 y(3.2.2)110 b(Message-sending)20
b(Statements)65 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(13)106 5243 y(3.3)96 b(General-use)23 b(Statements)f(.)45
b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)73 b(14)315 5356 y(3.3.1)110 b(Statements)21 b(with)i(Java-like)h
(Semantics)51 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(14)315
5469 y(3.3.2)110 b(Assignment)21 b(Statements)73 b(.)45
b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(14)1927 5737 y(1)p eop
%%Page: 2 2
2 1 bop 315 61 a Fn(3.3.3)110 b(V)-8 b(ariable)24 b(Declarations)29
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(14)-30 265 y Fo(4)91 b(Expressions)3239 b(14)106 378
y Fn(4.1)96 b(V)-8 b(alue)23 b(Expr)n(essions)36 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)73 b(14)315 491 y(4.1.1)110 b Fm(peek)21
b Fn(and)i Fm(pop)31 b Fn(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(15)315 604
y(4.1.2)110 b(Function)22 b(Calls)34 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(15)315 717 y(4.1.3)110 b(T)-8 b(ypecasts)87 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)73 b(16)106 830 y(4.2)96 b(Str)n(eam)23
b(Constr)o(uctors)80 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(16)-30 1034
y Fo(5)91 b(Built-in)23 b(T)-8 b(ypes)3142 b(17)106 1146
y Fn(5.1)96 b(Built-in)24 b(Data)f(T)-8 b(ypes)61 b(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)73 b(17)106 1259 y(5.2)96 b(Built-in)24 b(Str)n(eams)54
b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(17)-30 1463 y Fo(6)91
b(T)-10 b(eleport)24 b(Messaging)2917 b(17)106 1576 y
Fn(6.1)96 b(Portals)79 b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(17)106 1689 y(6.2)96 b(Sending)22 b(and)g(r)n(eceiving)i(messages)79
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73
b(18)106 1802 y(6.3)96 b(Message)21 b(timing)65 b(.)46
b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)73 b(18)106 1915 y(6.4)96 b(Messaging)22
b(Example)28 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(18)-30 2119 y Fo(7)91
b(History)3420 b(19)106 2232 y Fn(7.1)96 b(Str)n(eamIt)22
b(2.1)87 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(19)106
2344 y(7.2)96 b(Str)n(eamIt)22 b(2.0)87 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)73 b(20)106 2457 y(7.3)96 b(Str)n(eamIt)22 b(1.0)87
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)73 b(20)-30 2756 y
Fp(1)119 b(Introduction)-30 2967 y Fn(Str)n(eamIt)26
b(is)g(a)h(language)f(intended)e(to)i(simplify)h(coding)f(of)g
(signal-pr)n(ocessing)f(and)i(other)d(str)n(eaming)i(com-)-30
3080 y(putations.)42 b(The)27 b(pr)n(ogrammer)h(constr)o(ucts)e(a)i
(str)n(eam)g(graph,)g(containing)h(blocks)e(with)h(a)g(single)g(input)f
(and)-30 3193 y(a)e(single)f(output,)f(and)i(describes)e(the)h
(function)h(of)g(atomic)g(blocks)g(and)f(the)g(str)o(uctur)n(e)f(of)i
(composite)e(blocks.)-30 3306 y(The)h(compiler)i(generates)c(code)i
(for)h(each)h(block,)f(and)g(applies)g(optimizations)g(to)f(the)h(str)n
(eam)f(graph)h(to)f(pr)n(o-)-30 3419 y(duce)e(ef)n(\002cient)h(code)f
(for)g(the)g(tar)n(get)g(ar)n(chitectur)n(e.)111 3532
y(The)36 b(curr)n(ent)f(implementation)i(of)f(the)f(Str)n(eamIt)h
(compiler)g(translates)g(the)f(syntax)h(described)f(in)h(this)-30
3644 y(document)25 b(to)h(Java)j(code,)d(which)h(can)h(then)d(be)i
(either)f(r)o(un)g(against)h(a)g(Java)h(library)g(or)e(compiled)h(to)f
(C)h(code)-30 3757 y(and)36 b(linked)g(with)f(a)i(r)o(untime)f(library)
-10 b(.)69 b(Since)36 b(the)f(compiler)i(can)f(r)n(econstr)o(uct)f(the)
h(str)n(eam)f(graph,)k(it)d(can)-30 3870 y(combine)27
b(adjacent)g(\002lters,)f(or)h(split)f(computationally)h(intensive)f
(\002lters)g(into)g(multiple)h(parts,)g(or)f(duplicate)-30
3983 y(\002lters)c(to)g(have)h(mor)n(e)f(parallel)i(computation.)111
4096 y(The)g(Str)n(eamIt)g(language)g(is)h(vaguely)g(r)n(eminiscent)f
(of)h(other)e(imperative)i(languages)f(such)h(as)f(C)h(or)g(Java.)-30
4209 y(In)19 b(particular)-7 b(,)21 b(the)d(bodies)g(of)h(\002lter)g
(work)f(functions)g(and)h(str)n(eam)g(initialization)j(code)c(is)h
(generally)g(legal)g(Java)-30 4322 y(code.)-30 4621 y
Fp(2)119 b(T)-11 b(ypes)-30 4832 y Fn(This)24 b(section)f(describes)f
(the)h(various)h(data)g(and)g(object)g(types)e(used)g(in)i(Str)n(eamIt)
f(pr)n(ograms.)31 b(Data)25 b(types)d(ar)n(e)-30 4944
y(passed)k(along)h(tapes)f(between)g(str)n(eam)h(objects,)g(and)g(can)h
(be)f(used)f(as)h(local)i(variables.)43 b(Str)n(eam)27
b(objects)g(ar)n(e)-30 5057 y(only)22 b(cr)n(eated)g(in)h
(initialization)j(code)c(and)g(form)h(a)g(static)g(str)n(eam)g(graph.)
1927 5737 y(2)p eop
%%Page: 3 3
3 2 bop 556 -23 2789 8 v 631 72 a Fo(Operators)457 b(T)-8
b(ypes)p 556 126 2789 5 v 783 231 a Fm(?:)643 b Fn(Any)467
b(First)22 b(part)g(must)g(be)g Fm(boolean)783 343 y(||)331
b(int)n Fn(,)23 b Fm(bit)n Fn(,)g Fm(boolean)783 456
y(&&)331 b(int)n Fn(,)23 b Fm(bit)n Fn(,)g Fm(boolean)710
569 y(|)p Fn(,)f Fm(&)p Fn(,)g Fm(\210)472 b(int)o Fn(,)22
b Fm(bit)706 682 y(==)o Fn(,)g Fm(!=)566 b Fn(Any)606
795 y Fm(<)o Fn(,)23 b Fm(<=)o Fn(,)f Fm(>)p Fn(,)g Fm(>=)313
b(int)n Fn(,)23 b Fm(float)760 908 y(+)p Fn(,)f Fm(-)254
b(int)o Fn(,)22 b Fm(float)n Fn(,)g Fm(complex)710 1021
y(*)p Fn(,)g Fm(/)p Fn(,)g Fm(\045)204 b(int)o Fn(,)22
b Fm(float)n Fn(,)g Fm(complex)97 b(\045)22 b Fn(must)g(be)h
Fm(int)674 1134 y(\()o(cast)o(\))534 b Fn(Any)810 1247
y Fm(!)568 b(boolean)706 1360 y(++)o Fn(,)22 b Fm(--)572
b(int)p 556 1416 2789 8 v 1200 1574 a Fn(T)-8 b(able)23
b(1:)29 b(Operators)21 b(on)h(primitive)i(types)-30 1850
y Fl(2.1)99 b(Data)25 b(T)-9 b(ypes)-30 2027 y Fn(Data)29
b(types)e(ar)n(e)i(always)g(cr)n(eated)f(atomically)-10
b(.)47 b(They)27 b(ar)n(e)i(of)f(\002xed)g(size,)i(and)e(ar)n(e)h
(generally)f(statically)i(allo-)-30 2140 y(cated.)-30
2389 y Fo(2.1.1)92 b(Primitive)23 b(T)-8 b(ypes)-30 2566
y Fn(The)22 b(following)h(primitive)g(types)e(exist)h(in)h(Str)n
(eamIt:)-30 2768 y Fk(boolean)42 b Fn(Either)22 b Fm(true)f
Fn(or)h Fm(false)n Fn(.)-30 2952 y Fk(bit)44 b Fn(A)23
b(one-bit)f(unsigned)f(integer)g(type,)g(containing)i(the)f(value)h
Fm(0)g Fn(or)f Fm(1)o Fn(.)-30 3136 y Fk(int)44 b Fn(A)32
b(signed)g(integer)f(type,)i(of)g(unspeci\002ed)e(length.)56
b(This)33 b(length)e(will)j(typically)f(be)g(the)f(native)h(wor)n(d)197
3249 y(length)22 b(on)g(the)g(tar)n(get)g(machine;)h(for)g(Raw)g(and)f
(x86)i(compilation,)f(this)f(is)h(usually)g(32)h(bits.)-30
3433 y Fk(float)43 b Fn(A)30 b(\003oating-point)g(type,)g(of)g(the)g
(best)f(pr)n(ecision)h(that)g(will)i(give)e(good)f(performance.)50
b(On)30 b(x86)h(this)197 3546 y(is)i(a)g(double-pr)n(ecision)f
(\003oat,)j(since)e(computation)f(with)g(single-pr)n(ecision)g
(\003oats)h(is)f(implicitly)j(con-)197 3659 y(verted)24
b(to)h(double-pr)n(ecision;)i(on)e(Raw)-8 b(,)25 b(this)h(is)f
(single-pr)n(ecision,)h(since)f(that)h(is)f(all)i(that)e(is)h
(supported)197 3772 y(in)d(har)n(dwar)n(e.)-30 3956 y
Fk(complex)42 b Fn(A)23 b(\003oating-point)g(complex)g(type,)e(of)j
(the)e(same)h(pr)n(ecision)g(as)g Fm(float)n Fn(.)29
b(This)23 b(has)g(r)n(eal)h(and)g(imagi-)197 4069 y(nary)f(parts,)e
(which)j(can)f(be)g(dir)n(ectly)f(accessed)g(with)g Fm(c.)o(real)f
Fn(and)i Fm(c.)o(imag)n Fn(.)111 4271 y(A)h(number)g(of)g(operations)e
(ar)n(e)i(supported)d(on)j(these)e(primitive)j(types;)d(these)h(ar)n(e)
h(listed)f(in)h(T)-8 b(able)25 b(1.)32 b(In)24 b(a)-30
4384 y(binary)g(or)f(ternary)f(expr)n(ession,)g(if)i(two)e(expr)n
(essions)f(ar)n(e)j(of)f(dif)n(fer)n(ent)h(primitive)g(types,)d(they)h
(ar)n(e)i(pr)n(omoted)-30 4497 y(to)30 b(the)g(lowest)g(type)f(on)i
(the)f(list)h(above.)53 b(Real)31 b(expr)n(essions)e(converted)g(to)i
Fm(complex)c Fn(have)32 b(an)f(imaginary)-30 4610 y(part)23
b(of)g(zer)n(o.)30 b Fm(|)o Fn(,)24 b Fm(&)o Fn(,)f(and)h
Fm(\210)e Fn(ar)n(e)i(bitwise)f(or)-7 b(,)23 b(and,)g(and)h
(exclusive-or)f(operators,)e(r)n(espectively;)h Fm(!)h
Fn(is)g(a)h(boolean)-30 4723 y(not.)j(The)22 b(boolean)g(logic)h
(operators)d Fm(&&)i Fn(and)g Fm(||)f Fn(behave)i(as)f(in)h(C:)g(they)e
(ar)n(e)h(short-cir)n(cuiting,)h(integer)e(values)-30
4836 y(of)32 b(exactly)f(zer)n(o)h(ar)n(e)f(false,)j(and)e(other)e
(values)i(ar)n(e)g(tr)o(ue.)53 b Fm(==)31 b Fn(and)h(other)e
(comparison)h(operators)f(r)n(eturn)h(a)-30 4949 y(boolean)23
b(value.)-30 5198 y Fo(2.1.2)92 b(Structures)-30 5375
y Fn(Named)26 b(str)o(uctur)n(es)e(of)i(heter)n(ogeneous)d(data)j
(types)e(ar)n(e)i(supported.)36 b(A)26 b(str)o(uctur)n(e)f(must)g(be)h
(of)g(a)h(\002xed)e(size.)-30 5488 y(It)h(contains)g(a)h(set)e(of)i
(\002elds,)f(each)h(of)f(which)h(has)g(a)g(name)f(and)h(a)g(data)f
(type.)38 b(Any)26 b(primitive)h(or)f(array)h(type,)1927
5737 y(3)p eop
%%Page: 4 4
4 3 bop -30 61 a Fn(and)22 b(any)g(str)o(uctur)n(e)f(type)g(which)i
(has)f(been)g(pr)n(eviously)f(declar)n(ed)h(in)h(the)e(pr)n(ogram,)h
(may)g(be)h(used;)d(r)n(ecursive)-30 174 y(str)o(uctur)n(es)h(ar)n(e)i
(not)f(allowed.)28 b(The)22 b(following)h(two)e(str)o(uctur)n(e)h
(de\002nitions)f(ar)n(e)i(both)g(legal:)-30 337 y Fm(struct)52
b(A)i({)52 450 y(int)f(a;)52 563 y(int)n([4])h(b)o(;)-30
676 y(})-30 902 y(struct)e(B)i({)52 1014 y(A)g(a)o(;)52
1127 y(A)o([4])g(b)o(;)-30 1240 y(})111 1403 y Fn(A)25
b(str)o(uctur)n(e)e(de\002nition)h(contains)h(the)f(keywor)n(d)e
Fm(struct)n Fn(,)j(the)f(name)h(of)f(the)g(str)o(uctur)n(e,)g(an)h
(open)f(brace,)-30 1516 y(a)f(listing)g(of)g(\002eld)f(\(variable\))j
(declarations,)d(and)h(a)g(close)f(brace.)29 b(It)22
b(is)h(not)f(followed)g(by)g(a)h(semicolon.)111 1629
y(The)i(only)h(supported)d(operations)h(on)i(str)o(uctur)n(es)e(ar)n(e)
i(\002eld)g(r)n(efer)n(ences)f(and)h(copying.)37 b(Field)25
b(r)n(efer)n(ences)-30 1742 y(ar)n(e)19 b(of)g(the)e(form)i
Fm(a.)o(b)p Fn(;)g Fm(a)g Fn(must)f(be)g(of)h(some)e(str)o(uctur)n(e)h
(type)f Fm(A)o Fn(,)j(and)e Fm(b)g Fn(must)g(be)h(a)g(\002eld)f(named)g
(in)h(the)f(str)o(uctur)n(e)-30 1855 y(declaration)29
b(of)g Fm(A)p Fn(.)47 b(The)28 b(type)g(of)h(this)f(expr)n(ession)f(is)
j(the)e(declar)n(ed)h(type)e(of)i(the)f(\002eld.)47 b(Note)27
b(that)i(a)g(similar)-30 1968 y(syntax)20 b(is)i(used)e(for)h(r)n(efer)
n(encing)g(the)g(r)n(eal)h(and)f(imaginary)i(parts)d(of)i(complex)f
(numbers;)g(ther)n(e)f(is)h(an)h(implicit)-30 2080 y(str)o(uctur)n(e)g
(declaration)-30 2243 y Fm(struct)52 b(complex)f({)52
2356 y(float)h(real)n(,)i(imag)o(;)-30 2469 y(})-30 2632
y Fn(along)23 b(with)f(some)g(syntactic)h(sugar)f(to)g(make)g(complex)h
(arithmetic)g(work.)-30 2883 y Fo(2.1.3)92 b(Arrays)-30
3060 y Fn(Arrays)31 b(of)g(any)h(data)g(type)e(described)h(her)n(e)g
(ar)n(e)h(supported.)51 b(Arrays)31 b(must)g(be)h(of)g(a)g(\002xed)e
(length.)54 b(Array)-30 3173 y(types)34 b(ar)n(e)i(written)f(with)g
(the)g(base)h(type)e(name,)40 b(followed)35 b(by)g(a)i(single)e
(dimension)g(in)i(squar)n(e)e(brackets.)-30 3286 y(Multi-dimensional)24
b(arrays)e(or)g(matrices)h(ar)n(e)g(supported)d(as)j(arrays)f(of)h
(arrays.)-30 3537 y Fo(2.1.4)92 b(Portals)-30 3714 y
Fn(A)34 b(portal)g(is)h(a)g(special)g(type)e(of)h(variable)j(used)c
(for)h(teleport)f(messaging)g(\(see)g(Section)h(6\).)64
b(Portals)34 b(allow)-30 3827 y(contr)n(ol)24 b(messages)e(to)h(be)h
(sent)f(to)h(a)g(set)f(of)h(\002lters)f(with)h(a)h(given)e(type.)31
b(They)23 b(ar)n(e)h(declar)n(ed)g(using)f(a)i(template)-30
3940 y(on)d(that)h(type:)j Fm(portal)m(<FilterType)-5
b(>)p Fn(.)-30 4191 y Fo(2.1.5)92 b(V)-10 b(ariable)24
b(Declarations)-30 4368 y Fn(V)-8 b(ariable)29 b(declarations)f(appear)
g(in)h(str)o(uctur)n(e)e(declarations,)j(as)e(well)h(as)f(in)h(code)e
(blocks,)i(static)g(blocks)f(and)-30 4481 y(str)n(eam)i(declarations.)
50 b(A)30 b(variable)i(declaration)e(may)g(declar)n(e)h(one)e(or)h
(multiple)g(variables,)j(possibly)c(with)-30 4594 y(initializers;)21
b(multiple)d(variables)h(ar)n(e)f(separated)e(with)h(commas.)27
b(Of)18 b(note,)f(the)g(syntax)g(for)g(array)h(declarations)-30
4707 y(is)28 b(dif)n(fer)n(ent)g(fr)n(om)h(C)g(and)f(Java.)46
b(A)28 b(corr)n(ect)g(declaration)h(is)f Fm(int)o([4])53
b(rgbi)n(;)p Fn(,)29 b(with)f(the)f(entir)n(e)h(type)f(stated)-30
4820 y(befor)n(e)22 b(the)g(variable)j(name.)j(A)22 b(static)h(array)g
(initializer)i(may)e(be)g(pr)n(ovided)e(as)i(in)g(C)g(and)g(Java,)h
(for)e(example:)-30 4983 y Fm(int)o([3][2])51 b(arr)j(=)g({{1,)e(2},)i
({3,)f(4},)g({5,)g(6}};)1927 5737 y Fn(4)p eop
%%Page: 5 5
5 4 bop -30 61 a Fo(2.1.6)92 b(Static)24 b(Blocks)-30
238 y Fn(Read-only)29 b(constants)g(can)i(be)f(made)g(visible)i(to)d
(all)j(str)n(eams)e(in)g(the)g(pr)n(ogram)g(by)g(declaring)g(them)g
(within)-30 351 y(a)e Fm(static)d Fn(block.)44 b(A)28
b(static)g(block)g(contains)g(one)f(or)g(mor)n(e)h(variable)h
(declarations,)g(as)f(well)g(as)g(an)g(optional)-30 464
y Fm(init)21 b Fn(function)i(to)f(initialize)j(data:)-30
627 y Fm(static)52 b({)52 740 y(float)g(PI)i(=)g(3.14159;)52
853 y(float)n([100])e(sqrtTable)l(;)52 1078 y(init)h({)134
1191 y(for)g(\()o(int)h(i)o(=0;)f(i<100;)f(i++\))h({)215
1304 y(sqrtTable)l([i)o(])i(=)f(sqrt)n(\()o(i\);)134
1417 y(})52 1530 y(})-30 1643 y(})111 1806 y Fn(V)-8
b(ariables)29 b(declar)n(ed)f(within)g(a)h(static)f(block)g(have)h
(global)g(scope)e(acr)n(oss)h(the)f(curr)n(ent)g(compilation)i(unit.)
-30 1919 y(They)20 b(ar)n(e)i(initialized)h(at)e(load)g(time)h(and)f(r)
n(emain)h(constant)e(thr)n(oughout)f(the)i(lifetime)h(of)f(the)f(pr)n
(ogram.)27 b(Thus,)-30 2031 y(variables)d(declar)n(ed)f(within)g(a)g
(static)g(block)g(ar)n(e)g(r)n(ead-only)f(outside)f(of)h(the)g(block.)
-30 2286 y Fl(2.2)99 b(Stream)24 b(T)-9 b(ypes)-30 2463
y Fn(Computation)21 b(in)g(Str)n(eamIt)f(is)h(performed)e(within)i(str)
n(eam)g(objects.)27 b(Every)20 b(str)n(eam)g(object)h(has)g(an)g(input)
g(type)-30 2576 y(and)28 b(an)g(output)f(data)h(type;)h(the)e(object)h
(is)g(connected)e(to)i(\223tapes\224)g(of)f(a)i(hypothetically)e
(in\002nite)h(number)g(of)-30 2689 y(homogeneous)e(data)k(objects.)47
b Fj(Filters)31 b Fn(ar)n(e)f(atomic,)i(and)d(have)h(initialization)i
(code)d(and)g(steady-state)e(work)-30 2802 y(code;)21
b Fj(pipelines)p Fn(,)i Fj(splitjoins)p Fn(,)h(and)d
Fj(feedback)i(loops)g Fn(ar)n(e)f(all)g(composite)e(str)o(uctur)n(es)g
(that)h(include)g(some)f(number)h(of)-30 2915 y(str)n(eam)h(objects)g
(as)h(childr)n(en.)111 3028 y(All)k(str)n(eam)f(objects)f(have)i
(initialization)i(code)c(that)h(r)o(uns)g(when)f(the)h(object)g(is)g
(\002rst)f(cr)n(eated.)38 b(For)25 b(\002lters,)-30 3141
y(this)31 b(code)f(may)h(be)h(omitted,)f(and)g(generally)g(just)f(sets)
g(up)h(\002lter)n(-local)h(state.)52 b(For)31 b(composite)f(objects,)i
(the)-30 3253 y(initialization)g(code)27 b(is)i(r)n(esponsible)f(for)g
(cr)n(eating)h(the)f(child)i(objects.)45 b(Filters)28
b(also)h(have)g(one)e(or)i(mor)n(e)f Fj(work)-30 3366
y(functions)p Fn(,)23 b(which)g(ar)n(e)g(called)g(each)g(time)g(the)f
(\002lter)g(executes.)-30 3618 y Fo(I/O)k(types.)90 b
Fn(Each)26 b(str)n(eam)g(declar)n(ed)f(at)h(the)f(top)f(level)i(must)f
(also)h(explicitly)g(declar)n(e)g(its)f(input)g(and)h(output)-30
3731 y(types.)f(This)c(is)g(a)g(declaration)g(like)g
Fm(int)o(->)o(int)f Fn(or)g Fm(float)n(->)o(complex)m
Fn(;)h(the)f(\002rst)g(type)f(is)i(the)f(str)n(eam's)h(input)-30
3844 y(type,)j(the)g(second)g(its)h(output)e(type.)34
b(Either)24 b(type)f(may)j(be)f Fm(void)n Fn(;)h(in)g(this)e(case,)i
(the)e(str)n(eam)h(has)g(no)g(input)f(or)-30 3957 y(output,)i(as)i
(appr)n(opriate.)41 b(If)27 b(it)h(is)f(a)h(\002lter)-7
b(,)28 b(it)g(must)e(not)h(declar)n(e)h(a)f(peek,)g(pop,)g(or)g(push)f
(rate.)42 b(The)26 b(top-level)-30 4070 y(str)n(eam)c(in)i(a)f(pr)n
(ogram)f(has)h(type)e Fm(void)n(->)o(void)n Fn(;)i(no)f(other)f(str)n
(eams)h(of)h(this)f(type)f(ar)n(e)i(allowed.)-30 4321
y Fo(2.2.1)92 b(Stream)23 b(Parameters)-30 4498 y Fn(A)k(str)n(eam)f
(may)h(have)h(a)f(set)f(of)g(parameters)g(pr)n(ovided)g(to)g(it.)41
b(These)25 b(parameters)h(ar)n(e)h(available)j(to)c(all)i(func-)-30
4611 y(tions)22 b(within)g(the)f(str)n(eam)i(type,)d(and)i(may)h(not)e
(be)i(changed.)k(V)-8 b(alues)21 b(for)h(these)f(parameters)g(must)h
(be)g(passed)-30 4724 y(in)29 b(when)f(the)f(str)n(eam)h(is)h(cr)n
(eated.)45 b(Str)n(eam)28 b(parameters)g(ar)n(e)g(declar)n(ed)h(with)f
(types)e(and)j(names)f(in)h(a)g(par)n(en-)-30 4837 y(thesized)c(list)h
(after)f(the)g(name)h(of)g(the)f(str)n(eam;)i(when)e(a)i(str)n(eam)f
(it)g(instantiated,)f(values)h(for)g(the)f(parameters)-30
4949 y(must)d(follow)h(the)f(name)h(of)f(the)g(str)n(eam.)28
b(For)22 b(example:)-30 5112 y Fi(//)54 b(declaration)-30
5225 y Fm(float)n(->)o(float)e(filter)g(MatrixMatrixMul)o(ti)o(pl)o(y)
-6 b(\()o(int)54 b(A)o(,)665 5338 y(int)g(B)o(,)g(int)f(C\))h({)g(...)f
(})1927 5737 y Fn(5)p eop
%%Page: 6 6
6 5 bop -30 61 a Fm(void)n(->)o(void)53 b(pipeline)e(Toplevel)l(\(\))j
({)52 174 y(add)f(Source)m(\(\);)52 287 y Fi(//)g(instantiation)52
400 y Fm(add)g(MatrixMatrixMul)o(ti)o(pl)o(y)-6 b(\(3,)53
b(5,)h(4\);)52 513 y(add)f(Sink)n(\(\);)-30 626 y(})111
789 y Fn(Note)30 b(that)h(it)h(is)f(also)h(possible)e(to)h(pass)g(a)h
(parameterized-length)e(array)i(as)f(a)h(parameter)f(to)g(a)h(str)n
(eam,)-30 902 y(so)i(long)g(as)h(the)f(length)f(is)i(also)g(passed)e
(as)i(a)g(parameter)-7 b(.)64 b(For)33 b(example,)38
b(the)33 b(following)i(is)g(a)g(legal)g(\002lter)-30
1014 y(declaration:)-30 1177 y Fm(int)o(->)o(int)53 b(filter)f(FIR)h
(\()o(int)h(N)o(,)g(int)o([)o(N])g(weights)m(\))g({)g(...)f(})-30
1478 y Fo(Compile-time)19 b(constants.)91 b Fn(Several)19
b(things)e(in)i(Str)n(eamIt)f(must)f(be)i Fj(compile-time)h(constant)p
Fn(;)h(for)d(example,)h(the)-30 1591 y(I/O)i(rates)g(of)g(a)h(\002lter)
f(must)f(be)h(determined)e(at)j(compile-time,)g(and)f(the)f(compiler)i
(must)e(be)h(able)h(to)f(statically)-30 1704 y(cr)n(eate)e(the)f
(expanded)f(str)n(eam)i(graph.)27 b(An)18 b(expr)n(ession)f(is)j(a)f
(compile-time)h(constant)e(if)i(it)f(is)h(a)f(literal,)i(a)e(str)n(eam)
-30 1817 y(parameter)-7 b(,)22 b(or)g(an)h(expr)n(ession)e(whose)g
(components)g(ar)n(e)i(compile-time)g(constants.)-30
2069 y Fo(2.2.2)92 b(Parameterized)25 b(Stream)f(T)-8
b(ypes)-30 2245 y Fn(Str)n(eam)23 b(types)e(may)i(be)g
Fj(parameterized)28 b Fn(on)22 b(some)g(data)h(type)f(or)h(types,)d
(much)k(like)f(\223template\224)g(types)e(in)j(C++.)-30
2358 y(This)e(may)h(be)g(used)e(for)i(data-r)n(eor)n(dering)e
(operations,)g(and)i(is)g(used)e(for)h(several)h(cases)f(of)h(built-in)
h(\002lters.)111 2471 y(Parameterized)j(objects)f(cannot)h(curr)n
(ently)g(be)g(cr)n(eated)f(by)h(the)f(user)-7 b(.)40
b(T)-8 b(o)26 b(instantiate)h(a)h(built-in)g(param-)-30
2584 y(eterized)k(type,)i(use)e(the)h(name)g(of)h(the)e(str)n(eam)h
(type,)h(followed)f(by)g(the)g(name)g(of)h(the)e(data)i(type)d(in)j
(angle)-30 2697 y(brackets,)22 b(such)g(as)h Fm(Identity)l(<int)n(>)p
Fn(.)-30 2896 y Fh(Note:)i Fg(User)o(-instantiated)19
b(parameterized)f(types)j(ar)o(e)f(a)g(futur)o(e)g(Str)o(eamIt)f
(extension.)-30 3148 y Fo(2.2.3)92 b(Filters)-30 3325
y Fn(All)22 b(computation)f(in)g(Str)n(eamIt)g(takes)f(place)i(within)f
(\002lters.)27 b(Filters)20 b(must)h(explicitly)g(declar)n(e)h(their)f
(initializa-)-30 3438 y(tion)i(code)f(if)h(pr)n(esent,)e(but)i(also)g
(have)g(the)f(option)g(of)h(omitting)g(it.)28 b(A)23
b(\002lter)g(has)f(a)i(single)e(work)g(function.)29 b(The)-30
3551 y(work)23 b(function)g(must)g(declar)n(e)h(its)f
Fj(I/O)h(rates)p Fn(,)h(the)e(number)g(of)h(items)f(it)g(r)n(emoves,)g
(examines,)g(or)h(places)f(on)g(its)-30 3663 y(tape.)k(A)c(basic)g
(\002lter)g(declaration)g(looks)e(like)i(this:)-30 3826
y Fm(int)o(->)o(int)53 b(filter)f(IntAvgFilter)d({)52
3939 y(init)k({)134 4052 y Fi(//)g(empty)52 4165 y Fm(})52
4278 y(work)g(pop)g(1)h(peek)f(2)h(push)e(1)i({)134 4391
y(push)n(\()o(peek)o(\(0\))f(+)h(peek)n(\(1\)\);)134
4504 y(pop)n(\(\);)52 4617 y(})-30 4729 y(})111 4892
y Fn(This)21 b(\002lter)g(is)g(named)f Fm(IntAvgFilter)-5
b Fn(;)21 b(it)h(r)n(eads)e(integers)f(of)n(f)j(of)f(its)g(input)f
(tape,)h(and)g(writes)f(integers)f(to)-30 5005 y(its)24
b(output)e(tape.)32 b(Each)25 b(execution)e(of)h(the)f(work)h(function)
g(r)n(emoves)f(exactly)h(one)g(item)g(fr)n(om)h(the)e(input)h(tape)-30
5118 y(and)f(examines)f(at)h(most)f(two)f(items;)h(it)h(causes)f
(exactly)h(one)f(item)g(to)g(be)h(pushed)e(on)h(to)g(the)g(output)e
(tape.)-30 5369 y Fo(Init)33 b(functions.)91 b Fn(Init)32
b(functions)g(ar)n(e)h(declar)n(ed)g(using)e(the)h(keywor)n(d)f
Fm(init)n Fn(.)58 b(They)31 b(take)h(no)g(parameters.)-30
5482 y(They)21 b(may)i(initialize)i(\002lter)e(\002elds)f(or)g(do)g
(other)f(work,)g(but)i(have)g(no)f(access)h(to)f(the)g(\002lter)7
b('s)21 b(tapes.)1927 5737 y(6)p eop
%%Page: 7 7
7 6 bop -30 61 a Fo(Filter)19 b(state.)93 b Fn(The)17
b(top)g(level)h(of)g(the)f(\002lter)h(may)g(include)g(variable)i
(declarations.)26 b(These)16 b(variables)k(ar)n(e)e(visible)-30
174 y(to)f(every)g(function)h(in)g(the)f(\002lter)-7
b(,)18 b(and)g(may)g(be)f(used)f(to)h(carry)h(state)f(between)f
(iterations)h(of)h(the)f(work)f(function.)-30 287 y(W)-8
b(e)20 b(r)n(efer)g(to)g(these)e(variables)k(as)f Fj(\002elds)h
Fn(of)f(the)e(\002lter)-7 b(.)27 b(For)20 b(example,)h(the)e(variable)k
Fm(i)d Fn(is)g(a)i(\002eld)e(of)g(the)g(following)-30
400 y(\002lter:)-30 558 y Fm(void)n(->)o(int)53 b(filter)f(Counter)g({)
52 671 y(int)h(i)h(=)g(0;)52 784 y(work)f(push)f(1)i({)134
897 y(push)n(\()o(i++\);)52 1009 y(})-30 1122 y(})-30
1416 y Fo(W)-7 b(ork)26 b(functions.)90 b Fn(W)-8 b(ork)25
b(functions)g(ar)n(e)h(declar)n(ed)g(using)f(the)g(keywor)n(d)f
Fm(work)n Fn(,)i(which)h(must)e(be)h(followed)-30 1529
y(by)d(rate)f(declarations.)111 1642 y(Rate)31 b(declarations)g
(consist)f(of)h Fm(push)53 b(rate)n(-expr)n Fn(,)33 b
Fm(peek)53 b(rate)n(-)o(expr)n Fn(,)33 b(and)f Fm(pop)53
b(rate)n(-)o(expr)o Fn(,)33 b(in)-30 1755 y(any)21 b(or)n(der)-7
b(.)26 b(The)20 b(push)g(and)h(pop)f(rates)g(specify)g(the)g(number)g
(of)h(items)g(pr)n(oduced)e(and)i(consumed)e(by)i(a)g(given)-30
1868 y(execution)32 b(of)g(the)g(work)g(function.)58
b(The)32 b(peek)f(rate)h(speci\002es)g(the)g(maximum)i(index)e(that)g
(is)h(peeked)d(in)k(a)-30 1981 y(given)23 b(execution;)e(that)h(is,)h
(given)f(a)h(peek)e(rate)i(of)f Ff(r)s Fn(,)g(the)g(\002lter)g(can)i
(execute)d Fm(peek)n(\(i)o(\))h Fn(for)h(all)h Ff(i)i(<)f(r)s
Fn(.)111 2094 y(Each)20 b(rate)g(expr)n(ession)e(is)i(of)g(the)f(form)h
Fm([)o(min)o(,)54 b(avg)o(,)g(max)n(])p Fn(,)20 b(wher)n(e)f
Fm(min)g Fn(denotes)e(the)i(minimum)j(num-)-30 2207 y(ber)k(of)h
(items,)g Fm(avg)e Fn(denotes)f(the)i(average)g(number)h(of)f(items)h
(\(over)f(all)i(executions\),)e(and)h Fm(max)e Fn(denotes)f(the)-30
2319 y(maximum)k(number)e(of)g(items.)38 b(The)26 b(average)g(rate)g
(may)g(optionally)g(be)g(ommitted,)g(in)h(which)g(case)f(the)f(rate)-30
2432 y(declaration)33 b(is)g(of)f(the)g(form)h Fm([min)n(,)54
b(max)o(])o Fn(.)k(If)33 b(only)f(one)g(expr)n(ession)f(appears,)j
(then)e(it)g(r)n(epr)n(esents)f(both)-30 2545 y(the)24
b(minimum)j(and)e(maximum)i(rate)d(\(i.e.,)i(the)e(rates)g(ar)n(e)i
(equal\);)g(in)g(this)f(case,)g(the)f(brackets)h(ar)n(e)g(ommitted.)-30
2658 y(For)f(example,)i(a)g(work)e(function)h(that)g(pops)f(exactly)h
(1)h(item)f(and)h(pushes)d(between)h(2)h(and)h(4)f(items,)g(with)h(an)
-30 2771 y(average)d(of)f(3)h(items,)f(is)h(declar)n(ed)f(as)h
(follows:)-30 2929 y Fm(work)53 b(pop)g(1)h(push)f([2,)g(3,)h(4])f({)h
(...)f(})111 3087 y Fn(The)19 b(declaration)h(above)g(signi\002es)f(a)h
Fj(dynamic)h(rate)g Fn(in)f(that)g(the)e(exact)i(number)g(of)f(items)h
(pr)n(oduced)e(on)h(any)-30 3200 y(given)k(execution)e(is)i(unknown)e
(at)i(compile)g(time.)-30 3312 y(Rate)f(declarations)h(support)d(two)i
(forms)g(of)h(dynamism:)106 3488 y Fe(\017)46 b Fn(A)23
b(rate)f(that)g(falls)i(within)f(a)g(static)g(range,)f(as)h
(speci\002ed)e(above.)106 3670 y Fe(\017)46 b Fn(A)28
b(rate)f(that)h(is)f(completely)g(unpr)n(edictable.)43
b(In)27 b(this)h(case,)g(the)f(special)i(token)d Fm(*)h
Fn(may)h(be)g(substituted)197 3783 y(for)21 b(one)g(or)g(mor)n(e)f(of)i
(the)e Fm(min)o Fn(,)h Fm(avg)o Fn(,)g(and)g Fm(max)f
Fn(\002elds)g(in)i(the)e(declaration.)28 b(For)20 b(example,)h(the)g
(following)197 3896 y(\002lter)i(pushes)d(one)i(item)h(and)f(pops)g(an)
h(unbounded)d(number)j(of)f(items:)197 4054 y Fm(int)o(->)o(int)53
b(filter)f(FilterLessThan)-6 b(\()o(int)53 b(N\))h({)279
4167 y(work)f(push)g(1)h(pop)f([1,*])f({)361 4280 y(while)g(\(peek)n
(\(0\))h(<)h(N\))g({)443 4393 y(pop)n(\(\);)361 4506
y(})361 4619 y(push)n(\(peek)n(\(0\)\);)361 4732 y(pop)o(\(\);)279
4844 y(})197 4957 y(})-30 5177 y Fn(Ther)n(e)22 b(is)g(also)h(some)f
(syntactic)h(sugar)f(for)g(rate)g(declarations:)106 5375
y Fe(\017)46 b Fn(If)21 b(the)f(push)g(or)g(pop)g(rate)g(is)h(omitted,)
f(it)h(is)g(assumed)e(to)h(be)h(zer)n(o.)27 b(The)20
b(corr)n(esponding)f(input)h(or)h(output)197 5488 y(tape)h(type)f(must)
h(be)h Fm(void)n Fn(.)1927 5737 y(7)p eop
%%Page: 8 8
8 7 bop 106 61 a Fe(\017)46 b Fn(If)23 b(the)f(peek)f(rate)h(is)h
(omitted,)e(it)i(is)f(assumed)g(to)g(be)g(equal)h(to)f(the)g(pop)g
(rate.)106 249 y Fe(\017)46 b Fn(If)23 b(the)f(peek)f(rate)h(is)h
(speci\002ed,)e(it)i(should)e(not)h(be)h(smaller)g(than)g(the)f(pop)f
(rate.)-30 500 y Fo(Prework)29 b(Functions.)89 b Fn(A)30
b(\002lter)e(may)i(specify)f(an)g(additional)h(work)e(function)i(that)f
(is)g(r)o(un)g(in)h(place)g(of)f(the)-30 613 y(normal)f(work)e
(function)i(the)e(\002rst)h(time)g(the)g(\002lter)f(executes.)40
b(This)27 b(function)h(uses)e(the)g Fm(prework)e Fn(keywor)n(d,)-30
726 y(and)f(is)f(otherwise)f(identical)j(to)e(the)f(normal)j(work)d
(function.)111 839 y(Pr)n(ework)28 b(functions)h(can)h(be)g(very)e
(useful)h(for)h(setting)d(up)i(initial)j(conditions)c(based)h(on)g(the)
f(\002rst)h(set)f(of)-30 952 y(inputs,)38 b(or)d(for)g(pushing)g(extra)
g(items)g(on)g(the)g(\002rst)f(invocation.)68 b(For)34
b(example,)39 b(consider)34 b(the)h(following)-30 1065
y(implementation)23 b(of)f(a)h(Delay:)-30 1228 y Fm(float)n(->)o(float)
52 b(filter)g(Delay)n(\()o(int)h(N\))h({)52 1341 y(prework)d(push)i(N)h
({)134 1454 y(for)f(\()o(int)h(i)o(=0;)f(i<)o(N;)h(i++\))f({)215
1566 y(push)o(\(0.0\);)134 1679 y(})52 1792 y(})52 2018
y(work)g(push)f(1)i(pop)g(1{)134 2131 y(push)n(\()o(pop)o(\(\)\);)52
2244 y(})-30 2357 y(})-30 2658 y Fo(Limitations)27 b(on)e(work)h(and)g
(prework)g(functions)90 b Fn(The)26 b(push,)g(peek,)f(and)h(pop)f(expr)
n(essions)f(in)j(the)e(decla-)-30 2771 y(ration)f(of)g(a)g
Fm(work)e Fn(or)h Fm(prework)e Fn(function)j(must)f(be)h(corr)n(ect)f
(for)h(the)f(compilers)h(to)f(pr)n(oduce)g(corr)n(ect)g(output.)-30
2884 y(These)j(declarations)h(can)i(not,)f(in)g(general)f(be)g
(statically)i(checked.)41 b(They)26 b(ar)n(e)i(dynamically)h(checked)e
(in)h(the)-30 2997 y Fm(library)d Fn(back)j(end,)g(but)g(ar)n(e)g(not)f
(checked)g(at)h(all)h(in)f(the)f(compiled)h(back)g(ends.)42
b(An)28 b(incorr)n(ect)g(single)f(nu-)-30 3110 y(meric)f(value)g(for)g
(one)f(of)g(these)f(expr)n(essions)f(may)j(cause)g(obscur)n(e)f(bugs)g
(in)h(the)e(compiled)i(code,)f(as)h(may)g(an)-30 3223
y(incorr)n(ect)d(maximum)h(value)f(for)g(a)g(range.)-30
3474 y Fo(Helper)35 b(functions.)91 b Fn(A)34 b(helper)f(function)h
(performs)f(some)g(auxiliary)j(bit)f(of)f(computation,)i(and)f(may)f
(be)-30 3587 y(called)g(fr)n(om)g(the)f(init)h(function)g(or)f(the)g
(work)f(function.)60 b(A)34 b(helper)e(function)i(has)f(a)h(list)g(of)g
(zer)n(o)f(or)g(mor)n(e)-30 3700 y(parameters,)21 b(and)i(r)n(eturns)e
(zer)n(o)i(or)f(one)g(values.)28 b(A)22 b(helper)g(function)h
(declaration)g(contains)f(the)g(r)n(eturn)g(type,)-30
3813 y(the)31 b(name)h(of)f(the)g(function,)i(the)e(parameter)g(list,)j
(and)d(the)g(function)h(body)-10 b(,)32 b(just)f(like)h(a)g(normal)g(C)
g(or)f(Java)-30 3926 y(function.)111 4039 y(Helper)j(functions)i(may)g
(also)f(access)h(the)e(I/O)i(tapes)f(using)g Fm(peek)n
Fn(,)j Fm(pop)o Fn(,)h(and)c Fm(push)n Fn(,)k(in)d(which)g(case)-30
4152 y(they)25 b(must)i(declar)n(e)g(their)f(I/O)h(rates)f(just)g(like)
h(the)f(work)f(function.)40 b(The)26 b(declar)n(ed)h(rates)f(r)n(epr)n
(esent)f(all)j(I/O)-30 4264 y(operations)23 b(performed)h(by)h(the)f
(\002lter)g(between)g(the)g(start)g(and)h(end)f(of)h(the)f(function)h
(\(including)h(operations)-30 4377 y(in)d(other)e(functions)i(that)f
(ar)n(e)h(called)h(by)e(the)g(given)h(function\).)28
b(For)22 b(example:)-30 4540 y Fi(//)54 b(produces)d(a)j(square)d(wave)
i(with)g(period)f(2*)o(N)-30 4653 y Fm(void)n(->)o(float)h(filter)e
(SquareWave)l(\()o(int)j(N)o(\))g({)52 4766 y(work)f(push)f(2*)o(N)i({)
134 4879 y(pushZeros)l(\(\);)134 4992 y(pushOnes)l(\(\);)52
5105 y(})52 5330 y(void)f(pushZeros)-5 b(\(\))54 b(push)f(N)h({)134
5443 y(for)f(\()o(int)h(i)o(=0;)f(i<)o(N;)h(i++\))1927
5737 y Fn(8)p eop
%%Page: 9 9
9 8 bop 215 61 a Fm(push)o(\(0.0\);)52 174 y(})52 400
y(void)53 b(pushOnes)l(\(\))h(push)e(N)i({)134 513 y(for)f(\()o(int)h
(i)o(=0;)f(i<)o(N;)h(i++\))215 626 y(push)o(\(1.0\);)52
739 y(})-30 852 y(})-30 1153 y Fo(Message-handler)20
b(functions.)90 b Fn(A)17 b(message)f(handler)i(function)f(changes)g
(the)g(state)f(of)i(the)e(\002lter)h(in)h(r)n(esponse)-30
1266 y(to)f(some)g(external)g(event,)g(deliver)n(ed)g(via)i(a)g
(message.)24 b(It)17 b(is)h(declar)n(ed)g(with)f(the)g(keywor)n(d)f
Fm(handler)l Fn(,)j(the)e(name)-30 1379 y(of)j(the)g(message,)f(the)h
(parameter)f(list,)i(and)f(the)g(function)g(body)-10
b(.)27 b(A)20 b(message)f(handler)h(cannot)g(r)n(eturn)g(a)h(value,)-30
1492 y(so)h(no)g(r)n(eturn)g(type)f(is)i(declar)n(ed.)k(See)22
b(Section)g(6)h(for)g(mor)n(e)f(details)h(on)f(messaging.)-30
1743 y Fo(2.2.4)92 b(Pipelines)-30 1920 y Fn(The)30 b(simplest)f
(composite)h(str)n(eam)g(is)h(a)g(pipeline.)51 b(A)30
b(pipeline)h(contains)f(a)h(number)g(of)f(child)h(str)n(eams;)j(the)-30
2033 y(output)22 b(of)i(the)f(\002rst)g(str)n(eam)h(is)g(connected)e
(to)h(the)g(input)h(of)f(the)g(second,)g(whose)f(output)g(is)i
(connected)f(to)g(the)-30 2146 y(input)f(of)h(the)f(thir)n(d,)g(and)h
(so)e(on.)28 b(A)22 b(pipeline)h(declaration)g(looks)e(like)-30
2309 y Fm(float)n(->)o(complex)51 b(pipeline)g(FloatToComplexA)o(dd)d
({)52 2422 y(add)53 b(ReImToComplex)-6 b(\(\);)52 2534
y(add)53 b(ComplexPairAdd)-6 b(\(\);)-30 2647 y(})111
2810 y Fn(The)24 b(body)f(of)i(the)e(pipeline)h(declaration)h(is)g(the)
e(initialization)28 b(code;)c(no)g(internal)h(function)f(declarations)
-30 2923 y(ar)n(e)h(allowed.)35 b(In)25 b(addition)g(to)f(the)g
(internal)i(typing)e(constraints)g(mentioned)f(pr)n(eviously)-10
b(,)25 b(the)f(input)h(type)e(of)-30 3036 y(the)j(pipeline)h(must)f
(match)i(the)e(input)h(type)e(of)i(the)g(\002rst)f(\002lter)-7
b(,)28 b(and)f(the)f(output)f(type)h(of)h(the)f(pipeline)h(must)-30
3149 y(match)c(the)f(output)f(type)g(of)i(the)f(last)g(\002lter)-7
b(.)p 1271 3387 4 113 v 1273 3387 a Fd(?)p 930 3387 685
4 v 930 4177 4 791 v 934 3447 a Fm(Pipeline)p 1611 4177
V 930 4180 685 4 v 1724 3359 a(float)n(->)o(float)1724
3467 y(pipeline)51 b(Pipeline)g({)p 1271 3500 4 113 v
1273 3500 a Fd(?)p 1043 3500 459 4 v 1043 3613 4 113
v 1109 3586 a Fm(Child1)p 1498 3613 V 1043 3616 459 4
v 1765 3581 a(add)i(Child1)n(\(\);)p 1271 3726 4 113
v 1273 3726 a Fd(?)p 1043 3726 459 4 v 1043 3839 4 113
v 1109 3811 a Fm(Child2)p 1498 3839 V 1043 3842 459 4
v 1765 3807 a(add)g(Child2)n(\(\);)p 1271 3951 4 113
v 1273 3951 a Fd(?)1220 4028 y Fe(\001)15 b(\001)g(\001)1765
4013 y Fm(...)p 1271 4177 V 1273 4177 a Fd(?)1724 4144
y Fm(})p 1271 4290 V 1273 4290 a Fd(?)1577 4486 y Fn(Figur)n(e)22
b(1:)28 b(Pipelines)-30 4937 y Fo(2.2.5)92 b(Splitjoins)-30
5114 y Fn(A)35 b(splitjoin)g(allows)h(computation)f(to)f(be)i(r)o(un)f
(in)h(parallel,)j(possibly)c(using)f(dif)n(fer)n(ent)h(parts)g(of)g
(the)g(input)-30 5227 y(str)n(eam.)c(It)23 b(is)h(so)g(named)f(because)
h(incoming)g(data)g(passes)e(thr)n(ough)h(a)h Fj(splitter)p
Fn(,)j(is)d(r)n(edistributed)e(to)h(the)g(child)-30 5340
y(str)n(eams)18 b(for)g(pr)n(ocessing,)f(and)h(then)g(is)g(fed)g(thr)n
(ough)f(a)h Fj(joiner)i Fn(to)d(be)i(r)n(ecombined)f(into)g(a)g(single)
g(output)f(str)n(eam;)-30 5452 y(see)k(section)h(2.2.7.)1927
5737 y(9)p eop
%%Page: 10 10
10 9 bop -30 61 a Fm(int)o(->)o(int)53 b(splitjoin)d(AddAndSub)h({)52
174 y(split)h(duplicate)l(;)52 287 y(add)h(IntAdder)l(\(\);)52
400 y(add)g(IntSubtractor)-6 b(\(\);)52 513 y(join)53
b(roundrobin)-5 b(;)-30 626 y(})111 781 y Fn(This)22
b(splitjoin)h(has)g(two)e(childr)n(en.)29 b(Incoming)22
b(data)h(is)g(duplicated)f(onto)f(both)h(str)n(eams.)28
b(The)21 b(\002rst)h(branch)-30 894 y(consumes)29 b(two)h(elements)g
(and)g(adds)g(them;)k(the)c(second)g(consumes)f(two)h(elements)f(and)i
(subtracts)f(them.)-30 1007 y(The)23 b(r)n(esulting)g(values)h(ar)n(e)g
(then)e(pushed)g(onto)g(the)h(output)f(str)n(eam)i(in)g(a)g(r)n(ound-r)
n(obin)f(fashion,)h(with)g(values)-30 1120 y(fr)n(om)f(alternating)g
(str)n(eams.)p 989 1350 4 113 v 990 1350 a Fd(?)p 309
1350 1362 4 v 309 1689 4 339 v 313 1411 a Fm(SplitJoin)p
1668 1689 V 309 1692 1362 4 v 1781 1317 a(int)n(->)o(int)54
b(splitjoin)c(SplitJoin)g({)907 1378 y Fd(\020)824 1406
y(\020)741 1433 y(\020)658 1461 y(\020)652 1463 y(\020)-83
b(\))p 989 1463 4 113 v 255 w(?)990 1378 y(P)1073 1406
y(P)1156 1433 y(P)1239 1461 y(P)1246 1463 y(P)g(q)1822
1430 y Fm(split)52 b(roundrobin)-5 b(\(2\);)p 422 1463
459 4 v 422 1576 4 113 v 488 1549 a(Child1)p 877 1576
V 422 1579 459 4 v 937 1540 a Fe(\001)15 b(\001)g(\001)p
1100 1463 V 1100 1576 4 113 v 1165 1549 a Fm(ChildN)p
1555 1576 V 1100 1579 459 4 v 1822 1545 a(add)53 b(Child1)m(\(\);)g
(...)g(add)h(ChildN)m(\(\);)652 1604 y Fd(P)735 1632
y(P)818 1659 y(P)901 1687 y(P)907 1689 y(P)-83 b(q)p
989 1689 4 113 v(?)1246 1604 y(\020)1163 1632 y(\020)1080
1659 y(\020)997 1687 y(\020)990 1689 y(\020)g(\))1822
1656 y Fm(join)52 b(roundrobin)l(;)p 989 1802 V 990 1802
a Fd(?)1781 1769 y Fm(})1574 1998 y Fn(Figur)n(e)21 b(2:)29
b(Splitjoins)-30 2437 y Fo(2.2.6)92 b(Feedback)22 b(Loops)-30
2614 y Fn(A)j(feedback)g(loop)g(has)g(a)h(body)e(str)n(eam.)36
b(Its)24 b(output)f(passes)h(thr)n(ough)g(a)i(splitter;)f(one)f(branch)
j(of)e(the)f(splitter)-30 2727 y(leaves)h(the)f(loop,)g(and)h(the)f
(other)g(goes)f(to)h(the)g(loop)h(str)n(eam.)34 b(The)24
b(output)f(of)i(the)f(loop)g(str)n(eam)h(and)g(the)f(loop)-30
2840 y(input)e(then)g(go)g(thr)n(ough)f(a)i(joiner)g(to)f(the)g(body's)
f(input.)-30 2995 y Fm(float)n(->)o(float)52 b(feedbackloop)d
(AddFeedback)-5 b(\(float)52 b(scaling)m(\))i({)52 3108
y(join)f(roundrobin)-5 b(;)52 3221 y(body)53 b(FloatAdder)-5
b(\(\);)52 3334 y(loop)53 b(FloatScaler)-5 b(\()o(scaling)m(\);)52
3447 y(split)52 b(duplicate)l(;)52 3560 y(enqueue)f(0.0;)-30
3673 y(})111 3828 y Fn(The)27 b Fm(body)e Fn(and)i Fm(loop)e
Fn(declarations)j(may)f(be)g(omitted;)h(if)g(so,)f(an)h(implicit)h
Fm(Identity)23 b Fn(\002lter)k(of)g(the)g(ap-)-30 3941
y(pr)n(opriate)22 b(type)f(is)i(inserted.)p 1102 4172
V 1103 4172 a Fd(?)1894 4143 y Fm(float)m(->)o(float)p
761 4172 1023 4 v 761 4962 4 791 v 765 4229 a(Feedback)p
1781 4962 V 761 4965 1023 4 v 1894 4250 a(feedbackloop)49
b(Feedback)i({)p 1102 4284 4 113 v 1103 4284 a Fd(?)1934
4364 y Fm(join)i(roundrobin)l(;)p 1102 4397 V 1103 4397
a Fd(?)p 874 4397 459 4 v 874 4510 4 113 v 994 4476 a
Fm(Body)p 1329 4510 V 874 4513 459 4 v 720 w(body)g(Body)n(\(\);)p
1102 4849 4 339 v 1103 4849 a Fd(?)p 1103 4851 339 4
v 1440 4849 4 113 v 1442 4819 a(6)p 1213 4623 459 4 v
1213 4736 4 113 v 1333 4698 a Fm(Loop)p 1668 4736 V 1213
4739 459 4 v 1934 4701 a(loop)g(Loop)n(\(\);)p 1440 4623
4 339 v 1103 4286 339 4 v 1103 4284 a Fd(\033)1934 4816
y Fm(split)g(roundrobin)-5 b(\(4,1\);)p 1102 4962 4 113
v 1103 4962 a Fd(?)1934 4926 y Fm(enqueue)m(\(0.0\);)p
1102 5075 V 1103 5075 a Fd(?)1894 5041 y Fm(})1454 5271
y Fn(Figur)n(e)22 b(3:)29 b(Feedback)21 b(Loop)1905 5737
y(10)p eop
%%Page: 11 11
11 10 bop -30 61 a Fo(Semantics)33 b(of)f(splitters)i(and)e(joiners.)91
b Fn(Splitters)31 b(and)h(joiners)f(both)h(tr)n(eat)f(the)g(str)n(eam)h
(input)g(as)g(the)f(\002rst)-30 174 y(child,)j(and)d(the)f(loop)h(edge)
e(as)i(the)g(second)f(child.)54 b(Splitters)29 b(and)j(joiners)e(that)h
(do)f(not)h(allow)h(exactly)f(two)-30 287 y(childr)n(en)23
b(ar)n(e)g(disallowed.)-30 539 y Fk(enqueue)30 b Fo(statement.)93
b Fn(The)33 b Fm(enqueue)d Fn(statement)i(takes)g(a)i(value)g(and)g
(places)f(it)h(in)g(FIFO)e(or)n(der)h(on)g(the)-30 652
y(output)22 b(tape)h(fr)n(om)h(the)f(loop)g(str)n(eam.)31
b(Y)-8 b(ou)22 b(will)j(generally)e(need)f(to)h(enqueue)f(enough)g
(items)h(that)h(the)f(input)-30 764 y(joiner)f(will)i(be)f(able)g(to)f
(\002r)n(e)h(once;)f(enqueuing)f(mor)n(e)h(items)h(causes)f(a)h(delay)f
(in)h(the)f(feedback)g(loop.)-30 1016 y Fo(2.2.7)92 b(Splitters)24
b(and)e(Joiners)-30 1193 y Fn(Splitters)h(have)i(a)f(single)g(input)g
(tape)g(and)g(multiple)h(output)d(tapes;)i(joiners)g(have)g(multiple)h
(input)f(tapes)f(and)-30 1306 y(a)g(single)f(output)f(tape.)27
b(They)22 b(appear)g(in)h(feedback)g(loops)e(and)i(splitjoins.)-30
1557 y Fk(duplicate)g Fo(Splitters.)92 b Fm(duplicate)24
b Fn(splitters)h(take)i(each)h(incoming)g(item)f(and)g(push)g(the)f
(same)h(item)h(to)-30 1670 y(each)23 b(of)g(the)e(outgoing)g(tapes,)h
(duplicating)h(data.)-30 1922 y Fk(roundrobin)g Fo(Splitters)30
b(and)d(Joiners.)92 b Fm(roundrobin)23 b Fn(splitters)j(take)h(each)i
(item)f(and)f(send)g(it)h(to)f(exactly)-30 2034 y(one)i(of)h(the)f
(child)h(str)n(eams,)h(in)f(or)n(der)-7 b(.)48 b(Either)29
b Fm(roundrobin)d Fn(or)j Fm(roundrobin)-5 b(\(\))29
b Fn(causes)g(one)g(item)h(to)f(be)-30 2147 y(sent)23
b(to)h(each)h(output,)e(in)i(or)n(der;)g Fm(roundrobin)-5
b(\(2\))23 b Fn(causes)h(two)g(items)g(to)g(be)h(sent)e(to)h(the)g
(\002rst)f(str)n(eam,)i(two)-30 2260 y(to)e(the)h(second,)f(and)h(so)f
(on.)32 b Fm(roundrobin)l(\(2,)53 b(4,)g(2\))24 b Fn(r)n(equir)n(es)f
(ther)n(e)h(to)f(be)h(exactly)g(thr)n(ee)f(childr)n(en,)i(and)-30
2373 y(sends)j(two)g(to)h(the)g(\002rst)f(child,)k(four)d(to)g(the)g
(second,)g(and)h(two)f(to)f(the)h(thir)n(d.)48 b(A)30
b(r)n(ound-r)n(obin)f(weight)g(may)-30 2486 y(be)e(0;)i(in)e(this)f
(case,)i(the)e(child)h(input)f(must)g(be)h(of)g(type)e
Fm(void)n Fn(.)40 b(A)27 b Fm(roundrobin)-5 b(\(0\))26
b Fn(splitter)f(on)i(a)g(splitjoin)-30 2599 y(means)22
b(that)h(no)f(childr)n(en)h(take)f(any)h(input,)f(and)g(the)g(input)g
(type)f(of)i(the)f(entir)n(e)g(splitjoin)h(is)f Fm(void)o
Fn(.)111 2712 y Fm(roundrobin)15 b Fn(joiners)k(ar)n(e)g(identical)i
(to)d Fm(roundrobin)d Fn(splitters,)k(except)f(that)h(they)f(r)n(ead)h
(fr)n(om)h(the)f(input)-30 2825 y(tapes)j(in)h(the)e(speci\002ed)h
(pattern)f(and)i(write)f(data)h(to)f(the)g(output)f(tape.)-30
3076 y Fo(2.2.8)92 b(Anonymous)20 b(Streams)-30 3253
y Fn(It)33 b(is)h(possible)f(to)h(declar)n(e)g(a)g(str)n(eam)g(object)g
(without)e(a)j(name,)i(if)d(it)g(is)g(used)f(in)h(exactly)g(one)f
(place)i(in)f(the)-30 3366 y(pr)n(ogram.)52 b(In)30 b(general)g
(anonymous)g(str)n(eam)g(declarations)h(look)f(exactly)h(like)g(the)f
(corr)n(esponding)e(normal)-30 3479 y(str)n(eam)i(declaration,)i
(except)c(that)i(the)f(str)n(eam)h(type)e(is)i(optional)g(for)g
(non-\002lter)f(str)n(eams)h(and)g(the)f(name)h(is)-30
3592 y(omitted.)48 b(The)29 b(semicolon)g(that)h(normally)g(ends)e(the)
h Fm(add)o Fn(,)i Fm(body)n Fn(,)h(or)d Fm(loop)f Fn(statement)g(is)i
(optional)f(in)h(this)-30 3705 y(case.)-30 3868 y Fm(complex)m(->)o
(float)52 b(feedbackloop)d(FeedbackMagnitu)o(de)-6 b(\()o(float)52
b(scaling)m(\))i({)52 3980 y(join)f(roundrobin)-5 b(;)52
4093 y(body)53 b(complex)l(->)o(float)g(filter)f({)134
4206 y(work)g(pop)i(2)g(push)e(1)i({)215 4319 y(push)o(\()o(abs)o(\()o
(peek)o(\(0\))f(*)h(peek)n(\(1\)\)\);)215 4432 y(pop)o(\(\);)f(pop)o
(\(\);)134 4545 y(})52 4658 y(};)52 4771 y(loop)g(pipeline)d({)134
4884 y(add)j(float)n(->)o(float)f(filter)g({)215 4997
y(work)h(pop)g(1)h(push)f(1)h({)g(push)o(\()o(pop)o(\(\))f(*)h(scaling)
m(\);)g(})134 5110 y(};)134 5222 y(add)f(FloatToComplex)-7
b(\(\);)52 5335 y(};)52 5448 y(split)52 b(duplicate)l(;)-30
5561 y(})1905 5737 y Fn(11)p eop
%%Page: 12 12
12 11 bop 111 61 a Fn(The)34 b(input)g(and)g(output)e(types)h(of)h
(anonymous)f(str)n(eams)h(ar)n(e)g(determined)f(by)h(the)f(compiler)-7
b(,)38 b(if)d(these)-30 174 y(types)21 b(ar)n(e)i(not)f(explicitly)h
(speci\002ed)e(in)i(the)f(code.)111 287 y(Anonymous)35
b(str)n(eams)g(do)h(not)g(have)g(str)n(eam)g(parameters.)68
b(In)36 b(certain)h(cases,)i(though,)f(code)e(within)-30
400 y(anonymous)18 b(str)n(eams)h(can)h(access)f(variables)h(and)g(str)
n(eam)f(parameters)f(fr)n(om)i(the)e(containing)h(str)n(eam.)27
b(V)-8 b(alues)-30 513 y(so)27 b(r)n(efer)n(enced)g(must)g(be)h
(compile-time)h(constant.)43 b(Fields)27 b(of)h(the)f(containing)h(str)
n(eam)g(cannot)g(be)f(accessed,)-30 626 y(and)c(local)h(variables)g
(and)f(str)n(eam)f(parameters)g(in)h(the)f(containing)h(code)e(cannot)i
(be)g(modi\002ed.)-30 881 y Fl(2.3)99 b(Execution)25
b(Model)-30 1058 y Fn(Str)n(eamIt)k(does)g(not)g(explicitly)i(assume)e
(sequential)h(or)f(parallel)j(har)n(dwar)n(e.)50 b(A)30
b(component)f(of)h(the)f(str)n(eam)-30 1170 y(graph)35
b(may)g Fj(\002r)n(e)p Fn(,)k(possibly)c(in)g(parallel)i(with)e(other)f
(\002rings,)j(if)f(its)f(conditions)f(to)h(execute)e(ar)n(e)j(met.)65
b(The)-30 1283 y(scheduler)34 b(in)h(the)g(compiler)g(chooses)f(an)h
(or)n(der)f(to)h(execute)e(\002lters)h(such)h(that)g(the)f(\002ring)h
(conditions)g(ar)n(e)-30 1396 y(met.)49 b(A)30 b(particular)h(back-end)
f(may)h(place)f(additional)h(r)n(estrictions)e(on)g(\002rings;)k(a)e
(unipr)n(ocessor)d(back-end)-30 1509 y(may)i(r)n(equir)n(e)h(that)e
(only)h(one)f(str)n(eam)h(object)g(executes)e(at)j(a)f(time,)i(or)e(a)g
(parallel)i(back-end)e(might)g(add)g(the)-30 1622 y(constraint)f(that)g
(two)f(objects)h(may)h(not)e(both)h(be)g(executing)g(if)h(the)e(output)
g(of)h(one)g(is)g(an)h(input)f(of)g(another)-7 b(.)-30
1735 y(These)21 b(constraints)h(ar)n(e)h(transpar)n(ent)e(to)h(the)g
(pr)n(ogrammer)-7 b(,)22 b(however)-7 b(.)106 1948 y
Fe(\017)46 b Fn(A)23 b(\002lter)f(may)h(\002r)n(e)g(when)e(its)i(input)
f(has)h(at)f(least)h(as)g(many)g(items)f(as)g(its)h(peek)e(rate.)27
b(It)22 b(pops)f(its)i(pop)e(rate)197 2060 y(fr)n(om)i(the)f(input,)g
(and)h(pushes)e(its)h(push)g(rate)g(onto)f(its)i(output.)106
2248 y Fe(\017)46 b Fn(A)22 b(joiner)g(in)g(a)g(feedback)g(loop)f(or)h
(splitjoin)g(may)g(\002r)n(e)g(when)f(the)g(speci\002ed)f(number)i(of)g
(items)f(ar)n(e)i(avail-)197 2361 y(able)h(on)e(each)h(of)g(its)f
(inputs.)27 b(It)22 b(pushes)f(the)g(sum)i(of)f(the)g(input)g(weights)g
(onto)f(its)i(output.)106 2549 y Fe(\017)46 b Fn(A)27
b(r)n(ound-r)n(obin)g(splitter)e(may)i(\002r)n(e)g(when)f(the)g(sum)g
(of)h(the)f(number)g(of)h(output)e(items)h(is)h(available)i(on)197
2662 y(its)23 b(input,)f(and)g(pr)n(oduces)f(the)h(speci\002ed)f
(number)i(of)g(items)f(on)g(each)h(output.)106 2849 y
Fe(\017)46 b Fn(A)24 b(duplicate)f(splitter)g(may)h(\002r)n(e)f(when)g
(at)h(least)f(one)g(item)g(is)h(available)j(on)c(its)g(input.)30
b(It)23 b(pops)f(one)h(item)197 2962 y(fr)n(om)g(its)g(input)f(and)h
(pushes)d(one)i(item)h(to)f(each)h(output.)111 3175 y(The)28
b(pr)n(ogrammer)h(should)f(think)h(of)g(each)g(work)f(function)h(as)g
(\002ring)g(atomically)-10 b(.)49 b(However)-7 b(,)29
b(the)f(com-)-30 3288 y(piler)23 b(may)g(choose)e(to)i(r)o(un)f
(\002lters)g(in)i(parallel,)g(or)e(to)g(interleave)h(certain)g(work)f
(functions)g(\(this)h(is)g(sometimes)-30 3400 y(necessary)f(in)i(the)e
(case)i(of)f(unbounded)f(I/O)h(rates\).)30 b(Such)23
b(transformations)g(will)i(not)d(be)i(observable)f(unless)-30
3513 y(the)e(pr)n(ogrammer)f(uses)g Fm(print)f Fn(statements)h(\(the)g
(only)h(function)h(with)f(side)g(ef)n(fects\))g(within)g(multiple)h
(\002lters.)-30 3812 y Fp(3)119 b(Statements)-30 4023
y Fn(This)30 b(section)e(describes)h(statements)f(legal)i(in)g(Str)n
(eamIt)f(code.)49 b(For)29 b(the)g(most)g(part,)i(these)d(ar)n(e)i
(identical)h(to)-30 4136 y(legal)24 b(statements)e(in)i(C)g(or)f(Java.)
32 b(Some)23 b(statements,)f(particularly)i(those)e(that)i(set)e(up)h
(the)g(str)n(eam)h(graph,)f(ar)n(e)-30 4249 y(only)f(legal)h(in)h
(initialization)h(code;)d(other)f(statements)f(ar)n(e)j(legal)h
(anywher)n(e.)-30 4504 y Fl(3.1)99 b(Initialization-Only)26
b(Statements)-30 4680 y Fo(3.1.1)92 b Fk(add)21 b Fo(Statement)-30
4857 y Fn(The)32 b Fm(add)f Fn(statement)g(adds)h(a)h(child)h(str)n
(eam)e(to)g(the)g(curr)n(ent)h(str)n(eam)f(object.)58
b(It)32 b(is)h(valid)h(in)f(splitjoins)f(and)-30 4970
y(pipelines)d(only)-10 b(.)49 b(In)30 b(a)g(splitjoin,)i(it)e(adds)f(a)
i(new)e(str)n(eam)h(to)f(the)g(end)g(of)h(the)f(curr)n(ent)h(list)g(of)
g(childr)n(en.)50 b(In)30 b(a)-30 5083 y(pipeline,)22
b(it)h(adds)f(a)h(new)f(str)n(eam)g(to)g(the)g(end)g(of)h(the)e(chain)j
(of)f(childr)n(en.)111 5196 y(This)f(statement)f(takes)h(a)h
Fj(str)n(eam)i(constructor)p Fn(;)e(see)f(section)g(4.2.)1905
5737 y(12)p eop
%%Page: 13 13
13 12 bop -30 61 a Fo(3.1.2)92 b Fk(body)21 b Fo(Statement)-30
238 y Fn(The)k Fm(body)e Fn(statement)h(adds)g(a)i(child)g(str)n(eam)f
(as)h(the)e(body)h(part)g(of)g(a)h(feedback)f(loop.)35
b(This)25 b(statement)f(must)-30 351 y(be)e(executed)e(at)j(most)e
(once)h(in)g(the)g(initialization)j(code)c(of)h(a)h(feedback)f(loop,)g
(and)g(is)g(invalid)i(anywher)n(e)d(else.)-30 464 y(If)h(a)g(feedback)f
(loop)g(does)f(not)h(contain)h(a)g Fm(body)e Fn(statement,)f(an)j
Fm(Identity)d Fn(\002lter)i(of)g(the)g(appr)n(opriate)g(type)f(is)-30
577 y(used)h(by)i(default.)111 690 y(This)f(statement)f(takes)h(a)h
Fj(str)n(eam)i(constructor)p Fn(;)e(see)f(section)g(4.2.)-30
941 y Fo(3.1.3)92 b Fk(enqueue)19 b Fo(Statement)-30
1118 y Fn(The)i Fm(enqueue)e Fn(statement)h(is)i(valid)i(only)d(within)
h(the)f(initialization)k(code)c(of)h(a)h(feedback)e(loop.)27
b(It)22 b(causes)f(the)-30 1231 y(speci\002ed)k(item)i(to)f(be)h
(placed)f(after)h(all)h(other)e(pr)n(eviously)g(enqueued)e(items)i(on)h
(the)e(input)i(to)f(the)f(feedback)-30 1344 y(loop)d(joiner)-7
b(.)28 b(This)22 b(statement)f(takes)h(a)h(single)f(value)h(expr)n
(ession.)-30 1595 y Fo(3.1.4)92 b Fk(join)21 b Fo(Statement)-30
1772 y Fn(The)35 b Fm(join)e Fn(statement)h(declar)n(es)h(the)f(joiner)
i(type)d(of)j(a)g(feedback)f(loop)f(or)h(splitjoin.)66
b(It)35 b(only)g(appears)g(in)-30 1885 y(initialization)26
b(code,)21 b(and)i(is)f(invalid)j(in)e(initialization)i(code)d(for)h
(any)f(other)g(constr)o(uct.)-30 2137 y Fo(3.1.5)92 b
Fk(loop)21 b Fo(Statement)-30 2314 y Fn(The)26 b Fm(loop)f
Fn(statement)g(adds)h(a)h(child)g(str)n(eam)g(as)g(the)e(loop)i(part)f
(of)h(a)g(feedback)f(loop.)39 b(This)27 b(statement)e(must)-30
2426 y(be)d(executed)e(at)j(most)e(once)h(in)g(the)g(initialization)j
(code)c(of)h(a)h(feedback)f(loop,)g(and)g(is)g(invalid)i(anywher)n(e)d
(else.)-30 2539 y(If)h(a)g(feedback)f(loop)g(does)f(not)h(contain)h(a)g
Fm(loop)e Fn(statement,)f(an)j Fm(Identity)d Fn(\002lter)i(of)g(the)g
(appr)n(opriate)g(type)f(is)-30 2652 y(used)h(by)i(default.)111
2765 y(This)f(statement)f(takes)h(a)h Fj(str)n(eam)i(constructor)p
Fn(;)e(see)f(section)g(4.2.)-30 3017 y Fo(3.1.6)92 b
Fk(split)20 b Fo(Statement)-30 3194 y Fn(The)29 b Fm(split)e
Fn(statement)g(declar)n(es)i(the)g(splitter)f(type)f(of)j(a)f(feedback)
g(loop)g(or)g(splitjoin.)48 b(It)28 b(only)h(appears)g(in)-30
3306 y(initialization)d(code,)21 b(and)i(is)f(invalid)j(in)e
(initialization)i(code)d(for)h(any)f(other)g(constr)o(uct.)-30
3561 y Fl(3.2)99 b(W)-7 b(ork)24 b(and)h(Helper)f(Statements)-30
3738 y Fn(These)d(statements)f(may)j(appear)g(only)f(within)h
Fm(work)e Fn(or)h(helper)g(functions.)-30 3990 y Fo(3.2.1)92
b Fk(push)21 b Fo(Statement)-30 4166 y Fn(The)35 b Fm(push)g
Fn(statement)f(takes)h(a)i(value)g(expr)n(ession)d(and)i(pushes)e(its)i
(value)h(onto)e(the)g(output)f(tape)i(of)g(the)-30 4279
y(curr)n(ent)22 b(\002lter)-7 b(.)28 b(The)22 b(type)f(of)i(the)e(expr)
n(ession)g(must)h(match)h(the)f(output)f(type)g(of)i(the)f(\002lter)-7
b(.)-30 4531 y Fo(3.2.2)92 b(Message-sending)24 b(Statements)-30
4708 y Fn(As)e(detailed)f(in)i(Section)f(6,)g(\002lters)g(can)h
(exchange)e(contr)n(ol)h(messages)f(by)h(invoking)g(methods)f(on)g
(portal)i(vari-)-30 4821 y(ables.)65 b(The)34 b(syntax)g(of)h(this)g
(is)g(like)f(a)i(Java)g(function)f(call:)55 b(the)34
b(portal)g(variable)j(name)e(is)g(followed)g(by)g(a)-30
4934 y(period,)c(the)f(name)g(of)h(the)e(message)g(handler)-7
b(,)32 b(and)f(a)g(parameter)f(list.)51 b(Ther)n(e)30
b(is)g(also)h(an)g(optional)f(latency)-30 5046 y(range)22
b(enclosed)f(in)i(brackets.)1905 5737 y(13)p eop
%%Page: 14 14
14 13 bop -30 61 a Fl(3.3)99 b(General-use)24 b(Statements)-30
238 y Fn(These)d(statements)f(may)j(appear)g(anywher)n(e)f(code)f(is)i
(legal.)-30 490 y Fo(3.3.1)92 b(Statements)24 b(with)e(Java-like)j
(Semantics)-30 667 y Fm(do)o Fn(,)c Fm(for)n Fn(,)g(and)g
Fm(while)d Fn(loops)h(have)i(the)f(same)g(syntax)f(and)i(semantics)f
(they)f(do)h(in)h(Java.)29 b(The)19 b Fm(continue)e Fn(and)-30
779 y Fm(break)j Fn(statements)h(ar)n(e)i(also)g(r)n(ecognized,)e
(though)h(they)f(may)i(not)f(take)g(a)h(label)h(r)n(efer)n(ence.)111
892 y(For)e(statements)e(whose)i(syntax)f(match)j(exactly)-30
1055 y Fm(for)53 b(\(i)h(=)g(S)o(;)h(i)f(<)g(N)o(;)g(i++\))52
1168 y Fi(/*)f(body)g(*/)h Fm(;)-30 1331 y Fn(cause)35
b(the)f(induction)h(variable)i Fm(i)d Fn(to)h(be)f(compile-time)i
(constant)e(within)h(the)f(loop)h(if)h(the)e(start)g(and)h(end)-30
1444 y(indices)23 b Fm(S)f Fn(and)g Fm(N)h Fn(ar)n(e)g(also)g
(compile-time)g(constant.)-30 1695 y Fo(3.3.2)92 b(Assignment)22
b(Statements)-30 1872 y Fn(Assignment)f(statements)g(have)j(the)f(form)
g Fm(lhs)53 b(=)h(expr)n(;)p Fn(.)30 b(The)22 b(left-hand)i(side)e(may)
i(be)f(a)h(variable,)h(a)e(\002eld)-30 1985 y(r)n(efer)n(ence,)32
b(or)e(an)h(array)g(element)e(r)n(efer)n(ence.)51 b(Each)31
b(of)g(these)e(is)h(evaluated)h(to)f(a)h(location,)i(with)d(the)g(r)n
(esult)-30 2098 y(being)g(either)f(a)i(primitive)g(value,)i(a)e(str)o
(uctur)n(e,)f(or)g(an)h(entir)n(e)f(array)-10 b(.)50
b(If)31 b(it)f(is)g(a)h(primitive)g(value,)i(the)c(right-)-30
2211 y(hand)22 b(side)e(must)i(be)f(a)h(value)h(expr)n(ession.)i
(Otherwise,)c(the)g(right-hand)g(side)g(must)g(be)h(an)g(array)g(or)f
(str)o(uctur)n(e)-30 2324 y(of)k(identical)g(type,)f(and)h(causes)f
(all)i(of)f(the)f(elements)f(fr)n(om)j(the)e(right-hand-side)f(object)i
(to)f(be)h(copied)f(to)g(the)-30 2437 y(left-hand-side)e(object.)-30
2688 y Fo(3.3.3)92 b(V)-10 b(ariable)24 b(Declarations)-30
2865 y Fn(V)-8 b(ariable)18 b(declarations)f(have)h(the)e(form)i
Fm(type)53 b(name)n(;)o Fn(.)26 b Fm(type)16 b Fn(must)g(be)i(a)f(data)
h(type;)f Fm(name)f Fn(may)h(be)g(any)h(legal)-30 2978
y(name)j(not)e(corr)n(esponding)g(to)g(another)h(variable)i(pr)n
(eviously)e(declar)n(ed)g(in)h(the)e(curr)n(ent)h(block.)27
b(A)21 b(declaration)-30 3091 y(must)f(appear)h(befor)n(e)g(the)f
(variable)j(is)e(used.)26 b(The)20 b(variable)j(declaration)e(may)g
(also)h(contain)f(an)g(initialization,)-30 3204 y(as)i(in)g
Fm(type)53 b(name)f(=)i(expr)o(;)22 b Fn(The)g(initialization)j(acts)e
(exactly)g(as)f(an)h(initialization)j(statement,)21 b(above.)111
3316 y(V)-8 b(ariables)28 b(declar)n(ed)f(without)f(initialization)31
b(ar)n(e)c(initialized)i(to)e(0)h(as)f(best)g(as)g(possible.)41
b Fm(complex)25 b Fn(vari-)-30 3429 y(ables)f(ar)n(e)g(initialized)i
(to)d Fm(0+0)n(i)p Fn(.)31 b(Each)24 b(element)f(of)g(an)h(array)g
(variable)i(is)e(initialized)h(to)f(0)g(as)g(described)e(her)n(e.)-30
3542 y(Similarly)-10 b(,)24 b(each)f(\002eld)f(of)h(a)g(str)o(uctur)n
(e)f(variable)i(is)f(initialized)i(to)d(0)h(in)g(the)f(same)g(way)-10
b(.)-30 3841 y Fp(4)119 b(Expressions)-30 4055 y Fl(4.1)99
b(V)-11 b(alue)24 b(Expressions)-30 4232 y Fn(A)34 b
Fj(value)g(expr)n(ession)k Fn(carries)c(some)e(value)j(of)f(a)g(data)g
(type.)60 b(Literal)33 b(values)i(ar)n(e)f(value)g(expr)n(essions;)j
(these)-30 4345 y(can)31 b(be)e(signed)g(integer)f(or)i(r)n(eal)h
(values,)g(e.g.)49 b Fm(17)o Fn(,)31 b Fm(2.45)n Fn(,)h(or)d
Fm(1.4)o(e6)o Fn(.)50 b(A)29 b(literal)i(value)g(can)g(also)f(be)f(a)i
(pur)n(e)-30 4458 y(imaginary)c(number)-7 b(,)25 b(e.g.)36
b Fm(17)o(i)25 b Fn(or)g Fm(3.4)n(i)p Fn(.)36 b(Unary)-10
b(,)26 b(binary)-10 b(,)26 b(and)f(ternary)g(expr)n(essions)e(of)i
(value)h(expr)n(essions)-30 4571 y(ar)n(e)20 b(also)g(value)h(expr)n
(essions,)c(as)j(described)f(in)h(section)f(2.1.1.)28
b(Thus,)19 b(while)h Fm(3+4)o(i)f Fn(is)h(not)f(a)h(literal,)i(it)e(is)
f(a)i(valid)-30 4684 y(value)i(expr)n(ession)e(of)i(complex)f(type.)111
4797 y(Field)g(r)n(efer)n(ences)f(to)g(str)o(uctur)n(e)g(objects)h(ar)n
(e)g(also)h(value)f(expr)n(essions.)k(These)20 b(have)j(the)e(form)h
Fm(a.)o(b)p Fn(,)g(wher)n(e)-30 4910 y Fm(a)j Fn(is)h(a)g(variable)i
(of)d(str)o(uctur)n(ed)f(type)g Fm(A)h Fn(and)h Fm(b)f
Fn(is)h(a)g(\002eld)f(in)h Fm(A)p Fn(.)36 b(Similarly)-10
b(,)28 b(array)e(r)n(efer)n(ences)f Fm(a)o([b)o(])g Fn(ar)n(e)h(value)
-30 5022 y(expr)n(essions;)20 b Fm(a)i Fn(must)g(be)h(an)g(array)g
(variable,)h(and)f Fm(b)f Fn(must)g(be)h(an)g(integer)n(-valued)f
(value)h(expr)n(ession.)1905 5737 y(14)p eop
%%Page: 15 15
15 14 bop -30 61 a Fo(4.1.1)92 b Fk(peek)21 b Fo(and)h
Fk(pop)-30 238 y Fn(The)g Fm(peek)e Fn(and)j Fm(pop)e
Fn(expr)n(essions)f(look)h(at)i(items)f(on)g(the)g(incoming)h(tape)e
(in)i(a)g(\002lter)7 b('s)22 b(work)f(or)h(helper)f(func-)-30
351 y(tions;)h(they)g(ar)n(e)h(illegal)i(in)e(init)h(or)e
(message-handler)g(functions.)29 b Fm(peek)n(\()o(n\))22
b Fn(examines)h(the)f(n-th)h(item)g(on)g(the)-30 464
y(tape)i(without)g(r)n(emoving)g(it;)i Fm(peek)n(\(0\))e
Fn(r)n(eturns)f(the)h(next)f(incoming)j(item,)f Fm(peek)n(\(1\))e
Fn(the)h(one)g(afterwar)n(ds,)-30 577 y(and)e(so)f(on.)27
b Fm(pop)o(\(\))21 b Fn(r)n(eturns)h(the)g(same)g(item)h
Fm(peek)n(\(0\))e Fn(r)n(eturns,)g(but)i(also)g(r)n(emoves)f(it)g(fr)n
(om)i(the)d(tape.)-30 776 y Fh(Note:)j Fg(Ther)o(e)18
b(is)h(not)g(a)g(guaranteed)e(evaluation)i(or)o(der)e(for)i(Str)o
(eamIt)e(expr)o(essions,)i(and)f(the)h(implementation)h(of)f
Fc(pop)o(\(\))-30 876 y Fg(in)24 b(C)g(doesn't)g(give)f(any)h
(guarantees)f(for)g(when)h(the)g(item)g(is)g(actually)f(r)o(emoved)g
(fr)o(om)g(the)h(tape.)33 b(Thus,)25 b(an)e(expr)o(ession)-30
975 y(should)f(contain)f(no)g(mor)o(e)g(than)g(one)g
Fc(pop)o(\(\))p Fg(,)f(and)h(if)f(ther)o(e)g(is)h(one,)g(ther)o(e)f
(should)i(be)e(no)i Fc(peek)o(\(\))p Fg(s.)111 1188 y
Fn(Note)j(that)i Fm(pop)o(\(\))f Fn(r)n(emoves)g(an)h(item)g(fr)n(om)g
(the)f(tape,)h(so)f Fm(peek)n(\(\))o Fn(s)h(afterwar)n(ds)f(use)g(dif)n
(fer)n(ent)g(indices.)-30 1301 y(A)g(function)g(may)g(not)f(peek)f(at)i
(mor)n(e)g(items)f(than)h(it)g(declar)n(es)g(in)g(its)g(rate)f
(declaration,)i(though)d(it)j(may)f(peek)-30 1414 y(at)h(fewer)-7
b(.)40 b(The)26 b(peek)f(declaration)i(declar)n(es)g(the)f(furthest)f
(position)g(on)i(the)f(tape)g(examined)g(fr)n(om)i(the)e(point)-30
1527 y(of)d(view)g(of)f(the)g(beginning)g(of)h(the)f(function.)-30
1689 y Fm(int)o(->)o(int)53 b(filter)f(PeekRates)e({)52
1802 y(work)j(pop)g(1)h(peek)f(3)h(push)e(1)i({)134 1915
y(int)f(a)o(,)h(b,)g(c,)g(d)o(,)g(e;)134 2028 y(a)g(=)g(peek)n(\(0\);)
134 2141 y(b)g(=)g(peek)n(\(1\);)134 2254 y(c)g(=)g(pop)n(\(\);)g
Fi(//)f(Same)g(value)f(as)i(a)134 2367 y Fm(d)g(=)g(peek)n(\(0\);)f
Fi(//)g(Same)g(value)f(as)i(b)134 2480 y Fm(e)g(=)g(peek)n(\(1\);)134
2593 y(push)n(\()o(a)g(+)h(b)f(+)g(c)g(+)g(d)g(+)g(e\);)52
2706 y(})-30 2819 y(})111 2981 y Fn(This)29 b(function)g(pops)f(one)g
(item)h(and)g(pushes)e(1.)47 b(It)29 b(declar)n(es)f(a)i(peek)d(rate)i
(of)g(3)h(because)e Fm(e)h Fn(peeks)e(at)i(the)-30 3094
y(thir)n(d)19 b(item)f(that)h(was)f(on)h(the)f(tape)g(at)h(the)e(start)
h(of)h(the)f(function)h(\226)g(one)f(is)h(popped,)e(and)i
Fm(e)f Fn(contains)h(the)e(second)-30 3207 y(item)23
b(beyond)e(that.)-30 3459 y Fo(4.1.2)92 b(Function)21
b(Calls)-30 3635 y Fn(Function)38 b(calls)i(ar)n(e)f(value)g(expr)n
(essions;)44 b(certain)39 b(cases)g(of)f(built-in)i(functions)f(may)g
(r)n(eturn)e(values)i(that)-30 3748 y(ar)n(e)c(compile-time)h(constant)
e(if)i(their)f(parameters)f(ar)n(e)h(compile-time)g(constant.)65
b(The)34 b(function)h(call)i(syn-)-30 3861 y(tax)25 b
Fm(fn)o(\()o(p1)o(,)55 b(p2)o(\))24 b Fn(is)h(identical)g(to)f(that)h
(of)f(Java.)36 b(All)25 b(parameters)f(ar)n(e)h(passed)e(by)h(value,)i
(with)e(all)j(elements)-30 3974 y(of)e(str)o(uctur)n(es)f(and)h(arrays)
g(implicitly)i(copied)d(acr)n(oss)h(a)h(call;)i(this)c(dif)n(fers)i(fr)
n(om)f(Java's)i(semantics,)e(in)h(which)-30 4087 y(the)c(value)h
(passed)e(is)i(a)g(r)n(efer)n(ence)f(\(i.e.,)g(a)h(pointer\))f(to)g
(each)h(object)g(and)f(array)h(parameter)-7 b(.)111 4200
y(Function)32 b(calls)j(may)e(be)f(made)h(to)f(declar)n(ed)h(helper)f
(functions,)j(or)d(to)g(built-in)j(math)e(functions.)58
b(The)-30 4313 y(math)23 b(functions)f(ar)n(e)h(listed)f(in)h(T)-8
b(able)23 b(2.)-30 4512 y Fh(Note:)30 b Fg(As)22 b(an)h(implementation)
h(detail,)f(any)g(function)h(name)f(not)h(optimized)f(as)f(a)h
(built-in)g(function)h(in)g(the)f(fr)o(ont-end)-30 4612
y(or)j(r)o(ecognized)f(as)h(a)f(helper)h(function)h(is)f(tr)o(eated)f
(as)g(a)h(call)g(to)g(a)g(function)h(in)f(the)g(Java)f(package)g
Fc(java)o(.lang)o(.Math)o Fg(;)-30 4711 y(see)c Fb(Java)g(in)h(a)g
(Nutshell)f Fg(or)h(another)g(Java)e(r)o(efer)o(ence)g(for)h(details.)
28 b(These)22 b(get)g(blindly)g(translated)f(again)g(to)h(calls)g(to)g
(the)g(C)-30 4811 y(math)f(library)-9 b(.)-30 5010 y
Fh(Note:)35 b Fg(It)25 b(is)h(conceivable)f(that)h(calls)f(to)h
(side-ef)o(fect-fr)o(ee)21 b(functions)27 b(with)f(compile-time)g
(constant)h(parameters)d(r)o(eturn)-30 5110 y(compile-time)19
b(constant)g(r)o(esults.)25 b(This)19 b(is)g(only)g(the)g(case)f(for)g
(built-in)h(functions)g(in)g(the)g(curr)o(ent)f(implementation)h(of)g
(the)-30 5209 y(compiler;)h(adding)f(this)g(involves)h(inlining)h
(helper)e(functions,)i(and)d(doing)i(analysis)g(to)f(determine)g(if)g
(a)g(helper)g(is)g(in)h(fact)-30 5309 y(side-ef)o(fect)f(fr)o(ee.)1905
5737 y Fn(15)p eop
%%Page: 16 16
16 15 bop 774 -23 2352 8 v 878 72 a Fm(abs\(v\))152 b
Fn(Real)23 b(absolute)f(value)h(or)f(complex)h(magnitude)878
185 y Fm(arg\(v\))152 b Fn(Polar)23 b(angle)g(of)f(complex)h(value)878
298 y Fm(exp\(v\))152 b Fn(Real)23 b(or)f(complex)h(exponent)878
411 y Fm(log\(v\))152 b Fn(Real)23 b(or)f(complex)h(natural)g
(logarithm)878 524 y Fm(sin\(v\))152 b Fn(Real)23 b(or)f(complex)h
(sine)878 637 y Fm(cos\(v\))152 b Fn(Real)23 b(or)f(complex)h(cosine)
851 749 y Fm(sqrt\(v\))124 b Fn(Real)23 b(or)f(complex)h(squar)n(e)f(r)
n(oot)824 862 y Fm(csqrt\(v\))96 b Fn(Complex)22 b(squar)n(e)h(r)n(oot)
p 774 919 V 1286 1077 a(T)-8 b(able)23 b(2:)28 b(Str)n(eamIt)22
b(Math)g(Functions)-30 1435 y Fo(4.1.3)92 b(T)-8 b(ypecasts)-30
1612 y Fn(If)23 b(a)h(primitive)g(type)e(in)i(par)n(entheses)d(pr)n
(ecedes)g(an)j(expr)n(ession,)d(that)i(expr)n(ession)e(is)j(interpr)n
(eted)d(as)i(being)g(of)-30 1725 y(the)29 b(particular)i(type.)48
b(See)28 b(the)h(listing)h(of)g(types)e(in)i(Section)f(2.1.1.)50
b(Conversions)29 b(to)g(types)f(later)i(in)g(the)f(list)-30
1838 y(take)c(place)i(in)f(the)f(obvious)h(way:)34 b
Fm(boolean)23 b Fn(values)j(convert)g(to)f Fm(bit)g Fn(values)h(with)g
(0)g(for)g Fm(false)e Fn(and)i(1)g(for)-30 1951 y Fm(true)n
Fn(,)g Fm(bit)e Fn(values)h(convert)g(to)g Fm(int)f Fn(values)h(with)g
(the)g(same)g(value,)h(and)g(so)e(on.)35 b Fm(float)24
b Fn(values)h(convert)g(to)-30 2064 y Fm(complex)19 b
Fn(values)k(with)g(an)g(imaginary)g(part)f(of)h(0.)28
b(Conversions)22 b(to)g(types)e(earlier)j(in)g(the)f(list)h(may)f(lose)
g(data;)-30 2177 y(conversions)30 b(fr)n(om)j Fm(complex)28
b Fn(ar)n(e)k(not)f(possible,)h Fm(bit)f Fn(converts)f(to)h
Fm(boolean)d Fn(in)k(the)f(obvious)g(way)-10 b(.)55 b(The)-30
2289 y(exact)28 b(conversion)f(fr)n(om)i Fm(float)d Fn(to)h
Fm(int)g Fn(is)h(not)f(speci\002ed.)43 b Fm(int)26 b
Fn(values)j(of)f(0)g(convert)g(to)f Fm(bit)g Fn(values)h(of)g(0,)-30
2402 y(and)23 b(other)e Fm(int)g Fn(values)i(convert)f(to)g(1.)-30
2565 y Fi(/*)54 b(For)f(each)g(input)m(,)h(pushes)e(\(float)m(\))j(1)f
(if)f(the)g(integer)f(representation)11 2678 y(*)i(of)g(the)f(input)f
(has)h(the)g(64-)o(bit)g(set)o(.)h(*/)-30 2791 y Fm(float)n(->)o(float)
e(filter)g(TypeCast)f({)52 2904 y(work)i(pop)g(1)h(push)f(1)h({)134
3017 y(complex)d(c)j(=)g(\(complex)m(\))o(pop)o(\(\);)134
3130 y(float)e(f)i(=)g(abs)o(\()o(c\);)f Fi(//)h(can)o(')o(t)g
(directly)d(cast)i(from)g(complex)134 3243 y Fm(int)g(i)h(=)g(\(int)n
(\)f)o(;)134 3355 y(bit)f(b)h(=)g(\(bit)n(\)\()o(i)g(&)g(64\);)134
3468 y(push)n(\(\()o(float)n(\))o(b\);)52 3581 y(})-30
3694 y(})-30 3999 y Fl(4.2)99 b(Stream)24 b(Constructors)-30
4176 y Fn(A)i Fj(str)n(eam)j(constructor)f Fn(indicates)f(that)f(a)h
(new)f(str)n(eam)g(object)h(should)f(be)g(cr)n(eated.)39
b(Str)n(eam)27 b(constr)o(uctors)e(ap-)-30 4289 y(pear)d(in)h
Fm(add)o Fn(,)f Fm(body)o Fn(,)g(and)h Fm(loop)e Fn(statements)f(in)j
(composite)f(str)n(eam)g(initialization)k(code.)111 4401
y(Str)n(eam)19 b(constr)o(uctors)f(may)i(r)n(efer)n(ence)e(an)i(alr)n
(eady-declar)n(ed)g(str)n(eam)f(type.)25 b(In)19 b(this)g(case,)g(the)g
(str)n(eam)g(con-)-30 4514 y(str)o(uctor)e(form)i(is)g
Fm(Name)n(\(param)m(,)55 b(...\))n Fn(.)26 b(Ther)n(e)18
b(must)g(be)h(exactly)f(as)h(many)g(parameters)e(in)j(the)d(constr)o
(uctor)-30 4627 y(as)23 b(parameters)e(for)i(the)f(str)n(eam)g(type.)
111 4740 y(An)j(anonymous)g(str)n(eam)g(declaration)h(is)g(also)f(a)h
(valid)h(str)n(eam)f(constr)o(uctor;)f(see)f(section)h(2.2.8.)38
b(A)25 b(state-)-30 4853 y(ment)31 b(containing)i(an)f(anonymous)f(str)
n(eam)h(declaration)h(does)d(not)h(need)g(to)g(be)h(terminated)f(with)h
(a)h(semi-)-30 4966 y(colon,)22 b(since)h(it)g(ends)e(with)i(a)g
(close-brace.)111 5079 y(A)30 b(str)n(eam)g(constr)o(uctor)e(may)i(be)g
(followed)f(by)h(the)f(keywor)n(d)f Fm(to)h Fn(and)h(the)f(name)h(of)g
(a)h(portal)e(variable.)-30 5192 y(This)34 b(causes)f(the)g(newly)h(cr)
n(eated)f(str)n(eam)h(to)f(be)h(r)n(egister)n(ed)e(with)i(the)f(named)h
(portal.)61 b(See)33 b(Section)h(6)g(for)-30 5305 y(details.)1905
5737 y(16)p eop
%%Page: 17 17
17 16 bop -30 61 a Fp(5)119 b(Built-in)29 b(T)-11 b(ypes)-30
272 y Fn(This)17 b(section)g(describes)f(built)j(in)f(data)g(and)f(str)
n(eam)h(types)d(in)j(Str)n(eamIt.)26 b(These)16 b(types)f(ar)n(e)j
(implicitly)i(declar)n(ed;)-30 385 y(code)i(can)h(just)f(use)g(these)f
(types)f(without)i(explicitly)h(importing)f(or)h(otherwise)d(declaring)
j(them.)-30 639 y Fl(5.1)99 b(Built-in)26 b(Data)f(T)-9
b(ypes)-30 816 y Fn(The)29 b Fm(complex)e Fn(type)h(is)i(actually)h
(implemented)e(as)h(a)g(str)o(uctur)n(e,)h(though)d(the)h(compiler)i
(implements)e(syn-)-30 929 y(tactic)j(sugar)e(for)h(complex)g
(variables.)54 b(The)30 b(str)o(uctur)n(e)g(de\002nition)g(is)h(shown)f
(above)h(in)g(section)f(2.1.2.)54 b(It)30 b(is)-30 1042
y(legal)23 b(to)f(explicitly)h(r)n(efer)n(ence)f(the)g
Fm(real)f Fn(and)h Fm(imag)f Fn(\002elds)h(of)h(complex)f(numbers)g(as)
h(though)e(they)g(wer)n(e)h(the)-30 1155 y(str)o(uctur)n(e)g(type)f
(instead.)-30 1409 y Fl(5.2)99 b(Built-in)26 b(Streams)-30
1586 y Fn(Several)20 b(str)n(eam)h(types)d(ar)n(e)j(in)f(common)h(use,)
f(and)g(ar)n(e)h(either)e(simple)h(enough)f(or)h(r)n(equir)n(e)g
(non-standar)n(d)g(lan-)-30 1699 y(guage)26 b(functionality)i(that)g
(the)e(compiler)i(should)e(support)g(them)g(dir)n(ectly)-10
b(.)42 b(These)26 b(include)i(parameterized)-30 1812
y Fm(Identity)l Fn(,)23 b Fm(FileReader)-5 b Fn(,)23
b(and)f Fm(FileWriter)d Fn(types,)h(as)j(shown)e(in)i(\002gur)n(e)f(4.)
-30 2046 y Fm(template)l(<T)o(>)55 b(T)o(->)o(T)f(filter)e(Identity)f
({)52 2159 y(work)i(pop)g(1)h(push)f(1)h({)g(push)n(\()o(pop)o(\(\)\);)
f(})-30 2271 y(})-30 2384 y(template)l(<T)o(>)i(void)n(->)o(T)f(filter)
e(FileReader)134 2497 y(\()o(string)g(filename)l(\))i({)52
2610 y(work)f(push)f(1)i({)g Fi(/*)g(Implementation)48
b(defined)k(*/)h Fm(})-30 2723 y(})-30 2836 y(template)l(<T)o(>)i(T)o
(->)o(void)e(filter)f(FileWriter)134 2949 y(\()o(string)g(filename)l
(\))i({)52 3062 y(work)f(pop)g(1)h({)g Fi(/*)g(Implementation)48
b(defined)j(*/)j Fm(})-30 3175 y(})1329 3321 y Fn(Figur)n(e)21
b(4:)29 b(Built-in)23 b(Str)n(eam)g(T)-8 b(ypes)-30 3717
y Fp(6)119 b(T)-13 b(eleport)29 b(Messaging)-30 3928
y Fn(It)f(is)g(sometimes)f(necessary)g(to)g(send)g(occasional)j
(messages)c(outside)h(of)h(the)f(normal)i(str)n(eam)g(data)f(\003ow)-8
b(.)44 b(A)-30 4041 y(radio)29 b(application)i(might)e(contain)h(an)g
(in-band)g(signal)g(r)n(equesting)d(a)j(change)f(in)h(the)e(listening)h
(fr)n(equency)-10 b(,)-30 4154 y(for)26 b(example;)h(this)e(signal)h
(would)f(happen)g(infr)n(equently)-10 b(,)26 b(but)f(it)h(would)f(be)h
(detected)d(by)j(a)g(\002lter)g(late)g(in)g(the)-30 4267
y(application)31 b(and)f(r)n(equir)n(e)g(a)g(change)g(in)g(a)h
(\002lter)e(early)h(in)g(the)f(application.)51 b(Str)n(eamIt)29
b(pr)n(ovides)g(an)h(out-of-)-30 4380 y(band)23 b(messaging)e(system)g
(called)j(\223teleport)d(messaging\224)h(to)g(accomodate)h(this)f(sort)
f(of)i(application.)111 4493 y(Only)h(\002lters)f(can)h(r)n(eceive)g
(messages.)k(The)23 b(possible)g(messages)e(ar)n(e)j(de\002ned)e(by)h
(message)f(handler)h(func-)-30 4606 y(tions;)e(these)e(functions)h
(have)i(the)e(keywor)n(d)f Fm(handler)f Fn(in)j(place)g(of)g(their)g(r)
n(eturn)f(type.)26 b(A)21 b(message)e(is)i(sent)f(to)-30
4718 y(a)j Fj(portal)p Fn(,)i(which)e(can)g(have)g(multiple)g(tar)n
(gets)f(r)n(egister)n(ed)e(with)j(it.)-30 4973 y Fl(6.1)99
b(Portals)-30 5149 y Fn(A)28 b(portal)g(is)g(a)g(special)h(type)d(of)i
(variable.)46 b(It)27 b(is)h(associated)g(with)f(a)i(single)e(message)g
(r)n(eceiver)h(type;)h(the)e(full)-30 5262 y(type)c(name)j(is)f
Fm(portal)m(<)o(ReceiverType)-5 b(>)p Fn(.)34 b(Unlike)25
b(other)f(variables)i(in)g(Str)n(eamIt,)e(portals)h(ar)n(e)g(passed)e
(by)-30 5375 y(r)n(efer)n(ence)29 b(in)h(str)n(eam)f(parameters.)48
b(Declaring)30 b(a)h(portal)e(as)h(a)g(local)h(variable,)i(and)c(then)g
(passing)g(that)g(as)h(a)-30 5488 y(parameter)21 b(to)h(a)g(child)h
(str)n(eam)e(which)i(adds)e(a)h(\002lter)g(to)f(the)g(portal,)h(r)n
(esults)e(in)j(the)e(\002lter)g(also)h(being)g(added)f(to)1905
5737 y(17)p eop
%%Page: 18 18
18 17 bop -30 61 a Fn(the)24 b(portal)h(in)h(the)e(original)i
(container)-7 b(.)35 b(When)24 b(a)i(\002lter)f(is)g(cr)n(eated,)f(it)i
(may)f(be)g(added)f(to)g(a)i(portal)f(by)g(adding)-30
174 y(the)18 b(keywor)n(d)e Fm(to)i Fn(and)h(the)e(portal)i(variable)h
(to)e(the)g(end)g(of)g(the)g(declaration)h(\(see)e(Section)h(6.4)i(for)
e(an)h(example\).)-30 429 y Fl(6.2)99 b(Sending)25 b(and)f(receiving)i
(messages)-30 606 y Fn(W)-8 b(ork)31 b(or)h(helper)g(functions)g(may)h
(send)e(messages)g(thr)n(ough)g(portals.)57 b(This)32
b(looks)f(like)i(a)g(function)f(call)j(in)-30 719 y(Java:)k(the)27
b(portal)g(name)h(is)f(followed)g(by)h(a)g(period,)f(the)f(message)g
(name,)j(and)f(a)g(par)n(enthesized)e(parameter)-30 832
y(list.)63 b(This)34 b(may)-10 b(,)37 b(optionally)-10
b(,)37 b(be)d(followed)g(by)g(a)h(message)e(latency)-10
b(,)37 b(which)e(speci\002es)e(the)g(minimum)j(and)-30
945 y(maximum)29 b(delay)e(to)f(r)n(eceive)i(the)e(message.)40
b(The)27 b(latency)g(speci\002cation)h(is)f(an)h(open)e(bracket,)i(a)g
(minimum)-30 1058 y(latency)-10 b(,)23 b(a)h(colon,)g(a)g(maximum)h
(latency)-10 b(,)24 b(and)f(a)h(close)f(bracket.)31 b(If)23
b(the)g(latency)g(speci\002cation)h(is)g(omitted,)e(the)-30
1170 y(default)g(message)g(latency)g(is)h(zer)n(o)g(\(for)f(both)h(the)
e(minimum)k(and)d(maximum\).)111 1283 y(For)j(each)h(\002lter)g(that)g
(r)n(eceives)f(messages,)g(the)g(r)o(untime)h(system)e(maintains)j(a)f
(queue)f(to)g(hold)g(incoming)-30 1396 y(messages.)j(This)23
b(queue)f(is)i(checked)e(prior)h(to)g(each)g(execution)g(of)g(the)f
(work)h(function;)g(any)h(messages)d(in)j(the)-30 1509
y(queue)d(ar)n(e)i(dispatched)f(to)g(the)g(appr)n(opriate)g(message)f
(handlers.)-30 1764 y Fl(6.3)99 b(Message)25 b(timing)-30
1941 y Fn(Messages)18 b(sent)i(with)g(a)h(\002xed)f(latency)h(\(i.e.,)f
(the)g(minimum)i(and)f(maximum)h(latencies)f(ar)n(e)g(equal\))g(on)f(a)
h(given)-30 2054 y(execution)28 b(of)i(the)e(sending)g(\002lter)h(will)
i(always)e(arrive)i(at)e(a)h(given)f(execution)g(of)g(the)g(r)n
(eceiving)g(\002lter)-7 b(.)48 b(This)-30 2167 y(deterministic)18
b(pr)n(operty)f(holds)h(even)g(if)i(the)e(compiler)h(is)g
(parallelizing)i(or)d(r)n(eor)n(dering)g(the)g(\002lters)f(at)i(r)o
(untime.)-30 2280 y(Messages)27 b(sent)h(with)i(a)g(range)f(of)g
(latencies)h(\(i.e.,)g(the)f(minimum)i(and)f(maximum)h(latencies)e(ar)n
(e)h(dif)n(fer)n(ent\))-30 2392 y(ar)n(e)23 b(sent)e(as)i(if)h(some)d
(latency)i(is)g(chosen)e(fr)n(om)i(within)g(the)f(range)g(on)h(every)e
(message)g(invocation.)111 2505 y(For)33 b(each)h(pair)g(of)f(message)f
(senders)f(and)j(r)n(eceivers,)h(ther)n(e)e(must)g(be)g(a)h(dir)n
(ected)e(path)i(in)g(the)e(str)n(eam)-30 2618 y(graph)e(fr)n(om)g(one)f
(\002lter)h(to)g(the)f(other)g(\(messages)f(cannot)i(be)g(sent)f
(between)f(\002lters)h(on)h(parallel)i(paths)d(in)i(a)-30
2731 y(splitjoin\).)f(W)-8 b(e)23 b(r)n(efer)g(to)f(the)h(\002lter)g
(at)g(the)g(start)g(of)g(this)g(path)g(as)g(the)g Fj(upstr)n(eam)i
Fn(\002lter)-7 b(,)23 b(and)h(the)e(\002lter)h(at)g(the)g(end)-30
2844 y(of)g(this)f(path)g(as)h(the)f Fj(downstr)n(eam)i
Fn(\002lter)-7 b(.)111 2957 y(Messages)31 b(ar)n(e)i(timed)f(r)n
(elative)h(to)f(a)h Fj(pull)g(schedule)p Fn(.)60 b(A)32
b(pull)h(schedule)f(corr)n(esponds)e(to)i(a)h(sequence)e(of)-30
3070 y(atomic)e(\002lter)f(\002rings.)44 b(For)27 b(each)h(pair)h(of)f
(message)f(senders)f(and)i(r)n(eceivers,)h(a)f(pull)h(schedule)e
(executes)f(the)-30 3183 y(upstr)n(eam)32 b(\002lter)g(as)g(few)g
(times)g(as)h(possible)e(for)i(each)f(execution)g(of)g(the)g(downstr)n
(eam)f(\002lter)-7 b(.)57 b(This)32 b(corr)n(e-)-30 3296
y(sponds)18 b(to)i(a)h(\002ne-grained)e(execution)h(with)g(the)f
(minimal)k(amount)d(of)h(buf)n(fering)f(between)f(\002lters.)26
b(While)21 b(the)-30 3409 y(r)o(untime)i(system)f(may)h(deviate)g(fr)n
(om)h(the)f(pull)h(schedule,)e(it)h(must)g(time)g(the)g(delivery)g(of)g
(messages)e(as)j(if)g(the)-30 3522 y(pull)f(schedule)f(is)g(in)h(ef)n
(fect.)111 3634 y(Assuming)d(execution)f(under)g(a)i(pull)g(schedule,)f
(messages)f(sent)g(with)h(default)h(\(zer)n(o\))g(latency)f(ar)n(e)h
(imme-)-30 3747 y(diately)h(added)g(to)f(the)h(message)f(queue)h(of)g
(the)g(tar)n(get)g(str)n(eam.)27 b(Non-zer)n(o)22 b(latencies)h(ar)n(e)
f(measur)n(ed)g(in)h(terms)-30 3860 y(of)h(\002lter)f(executions.)29
b(If)24 b(a)g(\002lter)g(sends)e(a)i(message)e(with)i(latency)f
Ff(k)k Fn(during)c(its)h Ff(n)p Fn(th)f(execution,)f(the)h(outcome)-30
3973 y(is)g(equivalent)g(to)f(sending)f(a)i(message)e(with)i(latency)f
(0)h(during)f(its)h Ff(n)c Fa(+)h Ff(k)s Fn(th)j(execution.)111
4086 y(Message)38 b(latencies)i(can)h(be)e(interpr)n(eted)f(as)i
(follows.)79 b(If)40 b(the)f(message)g(is)g(sent)g(in)h(the)f(dir)n
(ection)h(of)-30 4199 y(data\003ow)21 b(\(fr)n(om)h(an)g(upstr)n(eam)f
(node)f(to)h(a)h(downstr)n(eam)e(node\),)g(a)i(positive)f(latency)g
(indicates)h(that)f(the)f(mes-)-30 4312 y(sage)j(is)g(synchr)n(onized)g
(with)g(some)g(data)g(that)g(the)g(message)f(sender)g(will)i(pr)n
(oduce)f(in)h(the)e(futur)n(e.)30 b(Likewise,)-30 4425
y(a)c(negative)f(latency)g(synchr)n(onizes)f(the)h(message)e(with)j
(some)e(data)h(that)g(the)g(message)f(sender)f(pr)n(oduced)h(in)-30
4538 y(the)e(past.)111 4651 y(If)f(a)h(message)d(is)i(sent)f(opposite)f
(the)h(dir)n(ection)h(of)g(data\003ow)g(\(fr)n(om)h(a)f(downstr)n(eam)f
(node)g(to)g(an)i(upstr)n(eam)-30 4764 y(node\),)30 b(a)h(positive)e
(latency)h(synchr)n(onizes)f(the)g(message)f(with)i(some)f(data)h(the)f
(message)f(sender)g(will)j(con-)-30 4876 y(sume)21 b(in)h(the)f(futur)n
(e.)27 b(In)21 b(this)g(case,)g(negative)h(latencies)f(ar)n(e)h
(illegal)h(\(they)e(corr)n(espond)e(to)i(data)h(consumed)e(by)-30
4989 y(the)i(message)f(sender)g(in)i(the)f(past\).)-30
5244 y Fl(6.4)99 b(Messaging)26 b(Example)-30 5421 y
Fn(The)c(following)h(code)f(uses)f(teleport)g(messaging)g(to)h(count)g
(in)h(sequence:)1905 5737 y(18)p eop
%%Page: 19 19
19 18 bop -30 61 a Fm(void)n(->)o(void)53 b(pipeline)e(Counter)g({)52
174 y(portal)m(<Sink)n(>)j(p)o(;)52 287 y(add)f(Source)m(\(p)o(\);)52
400 y(add)g(Sink)g(to)g(p;)-30 513 y(})-30 739 y(void)n(->)o(int)g
(filter)f(Source)n(\()o(portal)m(<Sink)n(>)i(p\))g({)52
852 y(int)f(i)h(=)g(1;)52 965 y(work)f({)134 1078 y(push)n(\(0\);)134
1190 y(p)o(.count)m(\(i++\);)52 1303 y(})-30 1416 y(})-30
1642 y(int)o(->)o(void)f(filter)g(Sink)h({)52 1755 y(int)g(output)f(=)i
(0;)52 1981 y(work)f({)134 2094 y(pop)n(\(\);)134 2207
y(print)m(\(output)m(\);)52 2320 y(})52 2545 y(handler)e(count)n(\()o
(int)j(val)n(\))g({)134 2658 y(output)d(=)k(val)n(;)52
2771 y(})-30 2884 y(})111 3047 y Fn(When)32 b(r)o(un)g(for)h(6)g
(iterations,)h(the)d(code)h(above)h(outputs)d(\223123456\224.)61
b(The)31 b(pull)i(schedule)e(executes)g(the)-30 3160
y(Sour)n(ce)25 b(and)g(Sink)g(in)h(alternation.)36 b(On)26
b(the)f(\002rst)f(execution)h(of)g(the)g(Sour)n(ce,)g(a)h
Fm(count)n(\(\))e Fn(message)g(is)i(sent)e(to)-30 3273
y(portal)e Fm(p)f Fn(with)g(the)g(default)h(latency)g(of)f(zer)n(o.)28
b(The)21 b(message)f(is)i(immediately)g(added)e(to)h(the)g(Sink's)g
(incoming)-30 3386 y(message)g(queue.)27 b(Thus,)22 b(when)g(the)g
(Sink)g(executes,)f(it)i(checks)f(the)g(queue)f(and)i(handles)f(the)g
(message)f(befor)n(e)-30 3498 y(executing)g Fm(work)p
Fn(,)g(ther)n(eby)h(updating)f(its)i Fm(output)d Fn(variable)k(befor)n
(e)f(it)f(is)h(printed)e(to)h(the)g(scr)n(een.)111 3611
y(Suppose)e(that)j(the)f(message)f(was)h(sent)g(with)g(a)h(latency)g
(of)g(1)g(instead)f(of)g(0:)-30 3774 y Fm(void)n(->)o(int)53
b(filter)f(Source)n(\()o(portal)m(<Sink)n(>)i(p\))g({)52
3887 y(int)f(i)h(=)g(1;)52 4000 y(work)f({)134 4113 y(push)n(\(0\);)134
4226 y(p)o(.count)m(\(i++\))g([1:1];)52 4339 y(})-30
4452 y(})111 4614 y Fn(In)26 b(this)f(case,)i(the)e(pr)n(ogram)h
(outputs)e(\223012345\224)29 b(because)d(the)f(message)g(was)g(ef)n
(fectively)i(sent)e(one)g(itera-)-30 4727 y(tion)d(later)-7
b(.)-30 5026 y Fp(7)119 b(History)-30 5240 y Fl(7.1)99
b(StreamIt)24 b(2.1)-30 5417 y Fn(Adding)d(support)g(for)i(dynamic)g
(rates,)e(teleport)g(messaging,)g(static)i(sections,)e(and)i(pr)n
(ework)e(functions.)1905 5737 y(19)p eop
%%Page: 20 20
20 19 bop -30 61 a Fl(7.2)99 b(StreamIt)24 b(2.0)-30
238 y Fn(The)32 b(\002rst)f(formal)i(language)f(speci\002cation)h(for)f
(Str)n(eamIt)g(documented)e(Str)n(eamIt)h(2.0.)58 b(V)-10
b(ersion)31 b(2.0)i(of)f(the)-30 351 y(language)22 b(adds)g(a)h
(completely)f(new)g(syntax)f(with)i(simpli\002ed)f(constr)o(ucts)g(for)
g(declaring)h(str)n(eam)f(objects)g(but)-30 464 y(keeping)30
b(a)i(Java-like)i(syntax)d(for)g(the)g(bodies)g(of)h(init)g(and)g(work)
e(functions.)55 b(It)31 b(also)h(changes)f(fr)n(om)h(delay)-30
577 y(functions)e(to)g Fm(enqueue)e Fn(statements)g(in)j(feedback)f
(loops.)51 b(The)30 b Fm(null)e Fn(splitter/joiner)i(type)f(was)h(r)n
(eplaced)-30 690 y(with)23 b Fm(roundrobin)-5 b(\(0\))o
Fn(.)-30 945 y Fl(7.3)99 b(StreamIt)24 b(1.0)-30 1121
y Fn(The)29 b(initial)i(Str)n(eamIt)e(compiler)h(was)f(based)g(on)g(a)i
(r)n(estricted)d(subset)g(of)h(Java,)k(dubbed)28 b(Str)n(eamIt)h(1.0.)
49 b(This)-30 1234 y(version)35 b(of)h(the)f(language)h(used)f(pur)n(e)
g(Java)j(syntax)d(for)g(str)n(eam)h(constr)o(ucts,)i(and)e(was)g
(compilable)h(with)-30 1347 y(a)31 b(normal)h(Java)g(compiler)g(given)e
(an)i(appr)n(opriate)e(r)o(un-time)h(library)-10 b(.)53
b(Early)31 b(publications)h(r)n(eferr)n(ed)e(to)g(the)-30
1460 y(language)22 b(as)h(Str)n(eaMIT)-7 b(,)22 b(but)g(this)h
(capitalization)i(is)e(now)f(depr)n(ecated.)1905 5737
y(20)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
